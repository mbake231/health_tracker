{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import{Calendar,CalendarList,Agenda}from'react-native-calendars';import axios from'axios';import Alert from\"react-native-web/dist/exports/Alert\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import Pressable from\"react-native-web/dist/exports/Pressable\";import View from\"react-native-web/dist/exports/View\";import Modal from\"react-native-modal\";import FormattedDay from\"./FormattedDay\";import CalModals from\"./CalModals\";import{cos}from'react-native-reanimated';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var MyCalendar=function(_Component){_inherits(MyCalendar,_Component);var _super=_createSuper(MyCalendar);function MyCalendar(){var _this;_classCallCheck(this,MyCalendar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={calendarType:null,todaysDate:null,clickedDate:null,clickedDateData:null,modalVisible:false,calTheme:{backgroundColor:'#ccc','stylesheet.calendar.main':{dayContainer:{borderBottomWidth:'2px',borderBottomColor:'black',borderTopWidth:'2px',borderTopColor:'black',borderLeftWidth:'1px',borderLeftColor:'black',borderRightWidth:'1px',borderRightColor:'black',flex:1,alignItems:'center',height:'60px'}}},modalStyles:StyleSheet.create({centeredView:{justifyContent:\"center\",alignItems:\"center\",marginTop:22},modalView:{margin:20,backgroundColor:\"white\",borderRadius:20,padding:35,alignItems:\"center\",shadowColor:\"#000\",shadowOffset:{width:0,height:2},shadowOpacity:0.25,shadowRadius:4,elevation:5},button:{borderRadius:20,padding:10,elevation:2},buttonOpen:{backgroundColor:\"#F194FF\"},buttonClose:{backgroundColor:\"#2196F3\"},textStyle:{color:\"white\",fontWeight:\"bold\",textAlign:\"center\"},modalText:{marginBottom:15,textAlign:\"center\"}})};_this._refCalendarList=function(ref){return _this._calendarList=ref;};return _this;}_createClass(MyCalendar,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var newDate=new Date();var day=newDate.getDate();var month=newDate.getMonth()+1;var year=newDate.getFullYear();var todaysDate=year+'-'+('0'+month).slice(-2)+'-'+('0'+day).slice(-2);setTimeout(function(){console.log(year+'-'+month);_this2._calendarList.scrollToMonth(year+'-'+('0'+month).slice(-2));});this.setState({calendarType:this.props.calendarType});this.setState({todaysDate:todaysDate});}},{key:\"formatDayData\",value:function formatDayData(){}},{key:\"closeModal\",value:function closeModal(){this.setState({modalVisible:false});}},{key:\"handleClickDay\",value:function handleClickDay(date){this.setState({clickedDate:date.dateString});this.setState({modalVisible:!this.state.modalVisible});}},{key:\"getDayData\",value:function getDayData(calendarType,d){if(calendarType==='alcohol'&&this.props.acct_activity_data){var ctr=0;while(ctr<this.props.acct_activity_data.length){if(this.props.acct_activity_data[ctr].date===d){return this.props.acct_activity_data[ctr].activity_data.alcoholDrinksHad;}ctr++;}return null;}else if(calendarType==='diet'&&this.props.acct_activity_data){var ctr=0;if(this.props.acct_activity_data.length)while(ctr<this.props.acct_activity_data.length){if(this.props.acct_activity_data[ctr].date===d){return this.props.acct_activity_data[ctr].activity_data.followedDiet+this.props.acct_activity_data[ctr].activity_data.fastEnded;}ctr++;}return null;}else if(calendarType==='workout'&&this.props.acct_activity_data){var ctr=0;if(this.props.acct_activity_data.length)while(ctr<this.props.acct_activity_data.length){if(this.props.acct_activity_data[ctr].date===d){return this.props.acct_activity_data[ctr].activity_data.workOut;}ctr++;}return null;}}},{key:\"getDayDiv\",value:function getDayDiv(d){var _this3=this;var bgColor='#eeeeee';var isToday=false;if(d.dateString===this.state.todaysDate){isToday=true;bgColor='#00FFFF';}var emptyDivState=_jsx(View,{style:{height:'99%',width:'99%'},children:_jsx(\"div\",{onClick:function onClick(){_this3.handleClickDay(d);},style:{height:'95%',width:'100%',backgroundColor:bgColor}})});if(this.state.calendarType==='alcohol'&&this.props.acct_activity_data){var ctr=0;while(ctr<this.props.acct_activity_data.length){if(this.props.acct_activity_data[ctr].date===d.dateString){return _jsx(FormattedDay,{isToday:isToday,calendarType:this.props.calendarType,dayData:this.props.acct_activity_data[ctr].activity_data.alcoholDrinksHad});}ctr++;}return emptyDivState;}else if(this.state.calendarType==='diet'&&this.props.acct_activity_data){var ctr=0;if(this.props.acct_activity_data.length)while(ctr<this.props.acct_activity_data.length){if(this.props.acct_activity_data[ctr].date===d.dateString){return _jsx(FormattedDay,{isToday:isToday,calendarType:this.props.calendarType,dayData:this.props.acct_activity_data[ctr].activity_data.followedDiet+this.props.acct_activity_data[ctr].activity_data.fastEnded});}ctr++;}return emptyDivState;}else if(this.state.calendarType==='workout'&&this.props.acct_activity_data){var ctr=0;if(this.props.acct_activity_data.length)while(ctr<this.props.acct_activity_data.length){if(this.props.acct_activity_data[ctr].date===d.dateString){return _jsx(FormattedDay,{isToday:isToday,calendarType:this.props.calendarType,dayData:this.props.acct_activity_data[ctr].activity_data.workOut});}ctr++;}return emptyDivState;}}},{key:\"render\",value:function render(){var _this4=this;return _jsxs(\"div\",{children:[_jsx(CalModals,{clickedDateData:this.state.clickedDateData,acct_activity_data:this.props.acct_activity_data,updateData:this.props.updateData,closeModal:this.closeModal.bind(this),clickedDate:this.state.clickedDate,modalVisible:this.state.modalVisible,calType:this.state.calendarType}),_jsx(CalendarList,{ref:this._refCalendarList,style:{height:'600px'},dayComponent:function dayComponent(_ref){var date=_ref.date,state=_ref.state;return _jsx(\"div\",{style:{height:'inherit',width:'100%'},children:_jsx(\"div\",{style:{height:'inherit',width:'100%'},onClick:function onClick(){_this4.handleClickDay(date);},children:_this4.getDayDiv(date)})});},theme:this.state.calTheme,pastScrollRange:4,futureScrollRange:4,scrollEnabled:true,showScrollIndicator:true})]});}}]);return MyCalendar;}(Component);export default MyCalendar;","map":{"version":3,"sources":["/Users/mikebaker/health_tracker/client/components/MyCalendar.jsx"],"names":["React","Component","Calendar","CalendarList","Agenda","axios","Modal","FormattedDay","CalModals","cos","MyCalendar","state","calendarType","todaysDate","clickedDate","clickedDateData","modalVisible","calTheme","backgroundColor","dayContainer","borderBottomWidth","borderBottomColor","borderTopWidth","borderTopColor","borderLeftWidth","borderLeftColor","borderRightWidth","borderRightColor","flex","alignItems","height","modalStyles","StyleSheet","create","centeredView","justifyContent","marginTop","modalView","margin","borderRadius","padding","shadowColor","shadowOffset","width","shadowOpacity","shadowRadius","elevation","button","buttonOpen","buttonClose","textStyle","color","fontWeight","textAlign","modalText","marginBottom","_refCalendarList","ref","_calendarList","newDate","Date","day","getDate","month","getMonth","year","getFullYear","slice","setTimeout","console","log","scrollToMonth","setState","props","date","dateString","d","acct_activity_data","ctr","length","activity_data","alcoholDrinksHad","followedDiet","fastEnded","workOut","bgColor","isToday","emptyDivState","handleClickDay","updateData","closeModal","bind","getDayDiv"],"mappings":"qgCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,QAAT,CAAmBC,YAAnB,CAAiCC,MAAjC,KAA+C,wBAA/C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,iSAEA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,YAAP,sBACA,MAAOC,CAAAA,SAAP,mBACA,OAASC,GAAT,KAAoB,yBAApB,C,wFAEA,UAAaC,CAAAA,UAAb,8TAGMC,KAHN,CAGc,CACNC,YAAY,CAAC,IADP,CAENC,UAAU,CAAC,IAFL,CAGNC,WAAW,CAAC,IAHN,CAINC,eAAe,CAAC,IAJV,CAKNC,YAAY,CAAC,KALP,CAMNC,QAAQ,CAAC,CACTC,eAAe,CAAE,MADR,CAET,2BAA4B,CAC1BC,YAAY,CAAE,CACZC,iBAAiB,CAAE,KADP,CAEZC,iBAAiB,CAAE,OAFP,CAGZC,cAAc,CAAE,KAHJ,CAIZC,cAAc,CAAE,OAJJ,CAKZC,eAAe,CAAE,KALL,CAMZC,eAAe,CAAE,OANL,CAOZC,gBAAgB,CAAE,KAPN,CAQZC,gBAAgB,CAAE,OARN,CASZC,IAAI,CAAE,CATM,CAUZC,UAAU,CAAE,QAVA,CAWZC,MAAM,CAAE,MAXI,CADY,CAFnB,CANH,CAyBVC,WAAW,CAACC,UAAU,CAACC,MAAX,CAAkB,CAC1BC,YAAY,CAAE,CAEZC,cAAc,CAAE,QAFJ,CAGZN,UAAU,CAAE,QAHA,CAIZO,SAAS,CAAE,EAJC,CADY,CAO1BC,SAAS,CAAE,CACTC,MAAM,CAAE,EADC,CAETpB,eAAe,CAAE,OAFR,CAGTqB,YAAY,CAAE,EAHL,CAITC,OAAO,CAAE,EAJA,CAKTX,UAAU,CAAE,QALH,CAMTY,WAAW,CAAE,MANJ,CAOTC,YAAY,CAAE,CACZC,KAAK,CAAE,CADK,CAEZb,MAAM,CAAE,CAFI,CAPL,CAWTc,aAAa,CAAE,IAXN,CAYTC,YAAY,CAAE,CAZL,CAaTC,SAAS,CAAE,CAbF,CAPe,CAsB1BC,MAAM,CAAE,CACNR,YAAY,CAAE,EADR,CAENC,OAAO,CAAE,EAFH,CAGNM,SAAS,CAAE,CAHL,CAtBkB,CA2B1BE,UAAU,CAAE,CACV9B,eAAe,CAAE,SADP,CA3Bc,CA8B1B+B,WAAW,CAAE,CACX/B,eAAe,CAAE,SADN,CA9Ba,CAiC1BgC,SAAS,CAAE,CACTC,KAAK,CAAE,OADE,CAETC,UAAU,CAAE,MAFH,CAGTC,SAAS,CAAE,QAHF,CAjCe,CAsC1BC,SAAS,CAAE,CACTC,YAAY,CAAE,EADL,CAETF,SAAS,CAAE,QAFF,CAtCe,CAAlB,CAzBF,CAHd,OA2EIG,gBA3EJ,CA2EuB,SAAAC,GAAG,QAAK,OAAKC,aAAL,CAAqBD,GAA1B,EA3E1B,uEA8EA,4BAAmB,iBAEjB,GAAIE,CAAAA,OAAO,CAAG,GAAIC,CAAAA,IAAJ,EAAd,CAEI,GAAIC,CAAAA,GAAG,CAAGF,OAAO,CAACG,OAAR,EAAV,CACA,GAAIC,CAAAA,KAAK,CAAGJ,OAAO,CAACK,QAAR,GAAqB,CAAjC,CACA,GAAIC,CAAAA,IAAI,CAAGN,OAAO,CAACO,WAAR,EAAX,CACA,GAAIrD,CAAAA,UAAU,CAACoD,IAAI,CAAC,GAAL,CAAS,CAAC,IAAMF,KAAP,EAAcI,KAAd,CAAoB,CAAC,CAArB,CAAT,CAAiC,GAAjC,CAAqC,CAAC,IAAMN,GAAP,EAAYM,KAAZ,CAAkB,CAAC,CAAnB,CAApD,CACFC,UAAU,CAAC,UAAM,CACfC,OAAO,CAACC,GAAR,CAAYL,IAAI,CAAC,GAAL,CAASF,KAArB,EACA,MAAI,CAACL,aAAL,CAAmBa,aAAnB,CAAiCN,IAAI,CAAC,GAAL,CAAS,CAAC,IAAMF,KAAP,EAAcI,KAAd,CAAoB,CAAC,CAArB,CAA1C,EACD,CAHS,CAAV,CAIA,KAAKK,QAAL,CAAc,CAAC5D,YAAY,CAAC,KAAK6D,KAAL,CAAW7D,YAAzB,CAAd,EACA,KAAK4D,QAAL,CAAc,CAAC3D,UAAU,CAACA,UAAZ,CAAd,EAGH,CA9FD,6BAgGA,wBAAe,CAEd,CAlGD,0BAoGA,qBAAY,CACV,KAAK2D,QAAL,CAAc,CAACxD,YAAY,CAAC,KAAd,CAAd,EACD,CAtGD,8BAwGA,wBAAe0D,IAAf,CAAoB,CAClB,KAAKF,QAAL,CAAc,CAAC1D,WAAW,CAAC4D,IAAI,CAACC,UAAlB,CAAd,EACE,KAAKH,QAAL,CAAc,CAACxD,YAAY,CAAC,CAAC,KAAKL,KAAL,CAAWK,YAA1B,CAAd,EACH,CA3GD,0BA8GC,oBAAWJ,YAAX,CAAwBgE,CAAxB,CAA2B,CAGxB,GAAGhE,YAAY,GAAG,SAAf,EAA4B,KAAK6D,KAAL,CAAWI,kBAA1C,CAA8D,CAC9D,GAAIC,CAAAA,GAAG,CAAG,CAAV,CAEA,MAAOA,GAAG,CAAG,KAAKL,KAAL,CAAWI,kBAAX,CAA8BE,MAA3C,CAAmD,CACjD,GAAI,KAAKN,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCJ,IAAnC,GAA4CE,CAAhD,CAAmD,CACjD,MAAO,MAAKH,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCE,aAAnC,CAAiDC,gBAAxD,CACD,CACDH,GAAG,GACJ,CACD,MAAO,KAAP,CACD,CAVC,IAYG,IAAGlE,YAAY,GAAG,MAAf,EAAyB,KAAK6D,KAAL,CAAWI,kBAAvC,CAA2D,CAC9D,GAAIC,CAAAA,GAAG,CAAG,CAAV,CACA,GAAI,KAAKL,KAAL,CAAWI,kBAAX,CAA8BE,MAAlC,CACA,MAAOD,GAAG,CAAC,KAAKL,KAAL,CAAWI,kBAAX,CAA8BE,MAAzC,CAAgD,CAC5C,GAAG,KAAKN,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCJ,IAAnC,GAA0CE,CAA7C,CAA+C,CAC7C,MAAO,MAAKH,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCE,aAAnC,CAAiDE,YAAjD,CAA8D,KAAKT,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCE,aAAnC,CAAiDG,SAAtH,CAGD,CACDL,GAAG,GACN,CACD,MAAO,KAAP,CACD,CAZI,IAcA,IAAGlE,YAAY,GAAG,SAAf,EAA4B,KAAK6D,KAAL,CAAWI,kBAA1C,CAA8D,CACjE,GAAIC,CAAAA,GAAG,CAAG,CAAV,CACA,GAAI,KAAKL,KAAL,CAAWI,kBAAX,CAA8BE,MAAlC,CACC,MAAOD,GAAG,CAAC,KAAKL,KAAL,CAAWI,kBAAX,CAA8BE,MAAzC,CAAgD,CACjD,GAAG,KAAKN,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCJ,IAAnC,GAA0CE,CAA7C,CAA+C,CAC7C,MAAO,MAAKH,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCE,aAAnC,CAAiDI,OAAxD,CACD,CACDN,GAAG,GACJ,CACD,MAAO,KAAP,CACC,CAEF,CAvJD,yBAyJA,mBAAUF,CAAV,CAAa,iBAEX,GAAIS,CAAAA,OAAO,CAAG,SAAd,CACA,GAAIC,CAAAA,OAAO,CAAC,KAAZ,CACA,GAAGV,CAAC,CAACD,UAAF,GAAe,KAAKhE,KAAL,CAAWE,UAA7B,CAAyC,CACvCyE,OAAO,CAAC,IAAR,CACAD,OAAO,CAAG,SAAV,CACC,CAEH,GAAIE,CAAAA,aAAa,CACjB,KAAC,IAAD,EAAM,KAAK,CAAE,CAAEzD,MAAM,CAAE,KAAV,CAAiBa,KAAK,CAAE,KAAxB,CAAb,UACE,YAAK,OAAO,CAAE,kBAAM,CAAE,MAAI,CAAC6C,cAAL,CAAoBZ,CAApB,EAAwB,CAA9C,CAAgD,KAAK,CAAE,CAAE9C,MAAM,CAAE,KAAV,CAAiBa,KAAK,CAAE,MAAxB,CAAgCzB,eAAe,CAACmE,OAAhD,CAAvD,EADF,EADA,CAME,GAAG,KAAK1E,KAAL,CAAWC,YAAX,GAA0B,SAA1B,EAAuC,KAAK6D,KAAL,CAAWI,kBAArD,CAAyE,CACzE,GAAIC,CAAAA,GAAG,CAAG,CAAV,CAEA,MAAOA,GAAG,CAAG,KAAKL,KAAL,CAAWI,kBAAX,CAA8BE,MAA3C,CAAmD,CACjD,GAAI,KAAKN,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCJ,IAAnC,GAA4CE,CAAC,CAACD,UAAlD,CAA8D,CAC5D,MAAQ,MAAC,YAAD,EAAc,OAAO,CAAEW,OAAvB,CAAgC,YAAY,CAAE,KAAKb,KAAL,CAAW7D,YAAzD,CAAuE,OAAO,CAAE,KAAK6D,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCE,aAAnC,CAAiDC,gBAAjI,EAAR,CAED,CACDH,GAAG,GACJ,CACD,MAAOS,CAAAA,aAAP,CACD,CAXC,IAaG,IAAG,KAAK5E,KAAL,CAAWC,YAAX,GAA0B,MAA1B,EAAoC,KAAK6D,KAAL,CAAWI,kBAAlD,CAAsE,CACzE,GAAIC,CAAAA,GAAG,CAAG,CAAV,CACA,GAAI,KAAKL,KAAL,CAAWI,kBAAX,CAA8BE,MAAlC,CACA,MAAOD,GAAG,CAAC,KAAKL,KAAL,CAAWI,kBAAX,CAA8BE,MAAzC,CAAgD,CAC5C,GAAG,KAAKN,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCJ,IAAnC,GAA0CE,CAAC,CAACD,UAA/C,CAA0D,CACxD,MAAQ,MAAC,YAAD,EAAc,OAAO,CAAEW,OAAvB,CAAgC,YAAY,CAAE,KAAKb,KAAL,CAAW7D,YAAzD,CAAuE,OAAO,CAAE,KAAK6D,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCE,aAAnC,CAAiDE,YAAjD,CAA8D,KAAKT,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCE,aAAnC,CAAiDG,SAA/L,EAAR,CAGD,CACDL,GAAG,GACN,CACD,MAAOS,CAAAA,aAAP,CACD,CAZI,IAcA,IAAG,KAAK5E,KAAL,CAAWC,YAAX,GAA0B,SAA1B,EAAuC,KAAK6D,KAAL,CAAWI,kBAArD,CAAyE,CAC5E,GAAIC,CAAAA,GAAG,CAAG,CAAV,CACA,GAAI,KAAKL,KAAL,CAAWI,kBAAX,CAA8BE,MAAlC,CACC,MAAOD,GAAG,CAAC,KAAKL,KAAL,CAAWI,kBAAX,CAA8BE,MAAzC,CAAgD,CACjD,GAAG,KAAKN,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCJ,IAAnC,GAA0CE,CAAC,CAACD,UAA/C,CAA0D,CACxD,MAAQ,MAAC,YAAD,EAAc,OAAO,CAAEW,OAAvB,CAAgC,YAAY,CAAE,KAAKb,KAAL,CAAW7D,YAAzD,CAAuE,OAAO,CAAE,KAAK6D,KAAL,CAAWI,kBAAX,CAA8BC,GAA9B,EAAmCE,aAAnC,CAAiDI,OAAjI,EAAR,CAED,CACDN,GAAG,GACJ,CACD,MAAOS,CAAAA,aAAP,CACC,CAEF,CAhND,sBAmNA,iBAAQ,iBACJ,MAAO,wBACJ,KAAC,SAAD,EAAW,eAAe,CAAE,KAAK5E,KAAL,CAAWI,eAAvC,CAAwD,kBAAkB,CAAE,KAAK0D,KAAL,CAAWI,kBAAvF,CAA2G,UAAU,CAAE,KAAKJ,KAAL,CAAWgB,UAAlI,CAA8I,UAAU,CAAE,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAA1J,CAAsL,WAAW,CAAE,KAAKhF,KAAL,CAAWG,WAA9M,CAA2N,YAAY,CAAE,KAAKH,KAAL,CAAWK,YAApP,CAAkQ,OAAO,CAAE,KAAKL,KAAL,CAAWC,YAAtR,EADI,CAEF,KAAC,YAAD,EACA,GAAG,CAAE,KAAK4C,gBADV,CAED,KAAK,CAAE,CAAE1B,MAAM,CAAE,OAAV,CAFN,CAID,YAAY,CAAE,2BAAqB,IAAlB4C,CAAAA,IAAkB,MAAlBA,IAAkB,CAAZ/D,KAAY,MAAZA,KAAY,CACjC,MAEE,aAAK,KAAK,CAAE,CAAEmB,MAAM,CAAE,SAAV,CAAqBa,KAAK,CAAE,MAA5B,CAAZ,UACM,YAAK,KAAK,CAAE,CAAEb,MAAM,CAAE,SAAV,CAAqBa,KAAK,CAAE,MAA5B,CAAZ,CAAkD,OAAO,CAAE,kBAAM,CAAE,MAAI,CAAC6C,cAAL,CAAoBd,IAApB,EAA2B,CAA9F,UACC,MAAI,CAACkB,SAAL,CAAelB,IAAf,CADD,EADN,EAFF,CASD,CAdA,CAgBD,KAAK,CAAE,KAAK/D,KAAL,CAAWM,QAhBjB,CAoBD,eAAe,CAAE,CApBhB,CAsBD,iBAAiB,CAAE,CAtBlB,CAwBD,aAAa,CAAE,IAxBd,CA0BD,mBAAmB,CAAE,IA1BpB,EAFE,GAAP,CAiCH,CArPD,wBAAgChB,SAAhC,EAyPA,cAAeS,CAAAA,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Calendar, CalendarList, Agenda } from 'react-native-calendars';\nimport axios from 'axios';\nimport { Alert, StyleSheet, Text, Pressable, View } from \"react-native\";\nimport Modal from \"react-native-modal\";\nimport FormattedDay from './FormattedDay';\nimport CalModals from './CalModals';\nimport { cos } from 'react-native-reanimated';\n\nexport class MyCalendar extends Component {\n\n   \n      state = {\n        calendarType:null,\n        todaysDate:null,\n        clickedDate:null,\n        clickedDateData:null,\n        modalVisible:false,\n        calTheme:{\n        backgroundColor: '#ccc',\n        'stylesheet.calendar.main': {\n          dayContainer: {\n            borderBottomWidth: '2px',\n            borderBottomColor: 'black',\n            borderTopWidth: '2px',\n            borderTopColor: 'black',\n            borderLeftWidth: '1px',\n            borderLeftColor: 'black',\n            borderRightWidth: '1px',\n            borderRightColor: 'black',\n            flex: 1,\n            alignItems: 'center',\n            height: '60px'\n\n          }\n        }\n      },\n    modalStyles:StyleSheet.create({\n        centeredView: {\n    \n          justifyContent: \"center\",\n          alignItems: \"center\",\n          marginTop: 22\n        },\n        modalView: {\n          margin: 20,\n          backgroundColor: \"white\",\n          borderRadius: 20,\n          padding: 35,\n          alignItems: \"center\",\n          shadowColor: \"#000\",\n          shadowOffset: {\n            width: 0,\n            height: 2\n          },\n          shadowOpacity: 0.25,\n          shadowRadius: 4,\n          elevation: 5\n        },\n        button: {\n          borderRadius: 20,\n          padding: 10,\n          elevation: 2\n        },\n        buttonOpen: {\n          backgroundColor: \"#F194FF\",\n        },\n        buttonClose: {\n          backgroundColor: \"#2196F3\",\n        },\n        textStyle: {\n          color: \"white\",\n          fontWeight: \"bold\",\n          textAlign: \"center\"\n        },\n        modalText: {\n          marginBottom: 15,\n          textAlign: \"center\"\n        }\n      })\n\n    };\n\n\n    _refCalendarList = ref => (this._calendarList = ref);\n\n\ncomponentDidMount(){\n    \n  let newDate = new Date();\n  \n      let day = newDate.getDate();\n      let month = newDate.getMonth() + 1;\n      let year = newDate.getFullYear();\n      var todaysDate=year+'-'+('0' + month).slice(-2)+'-'+('0' + day).slice(-2);\n    setTimeout(() => {\n      console.log(year+'-'+month)\n      this._calendarList.scrollToMonth(year+'-'+('0' + month).slice(-2));\n    });\n    this.setState({calendarType:this.props.calendarType});\n    this.setState({todaysDate:todaysDate});\n\n\n}\n\nformatDayData(){\n\n}\n\ncloseModal(){\n  this.setState({modalVisible:false});\n}\n\nhandleClickDay(date){\n  this.setState({clickedDate:date.dateString});\n    this.setState({modalVisible:!this.state.modalVisible});\n}\n\n//decomissioned\n getDayData(calendarType,d) {  \n\n\n    if(calendarType==='alcohol' && this.props.acct_activity_data) {\n    var ctr = 0;\n  \n    while (ctr < this.props.acct_activity_data.length) {\n      if (this.props.acct_activity_data[ctr].date === d) {\n        return this.props.acct_activity_data[ctr].activity_data.alcoholDrinksHad;\n      }\n      ctr++;\n    }\n    return null;\n  }\n\n  else if(calendarType==='diet' && this.props.acct_activity_data) {\n    var ctr = 0;\n    if( this.props.acct_activity_data.length)\n    while (ctr<this.props.acct_activity_data.length){\n        if(this.props.acct_activity_data[ctr].date===d){\n          return this.props.acct_activity_data[ctr].activity_data.followedDiet+this.props.acct_activity_data[ctr].activity_data.fastEnded;   \n            \n        \n        }\n        ctr++;\n    }\n    return null;\n  }\n\n  else if(calendarType==='workout' && this.props.acct_activity_data) {\n    var ctr = 0;\n    if( this.props.acct_activity_data.length)\n     while (ctr<this.props.acct_activity_data.length){\n    if(this.props.acct_activity_data[ctr].date===d){\n      return this.props.acct_activity_data[ctr].activity_data.workOut;\n    }\n    ctr++;\n  }\n  return null;\n  }\n\n}\n\ngetDayDiv(d) {\n\n  var bgColor = '#eeeeee'\n  var isToday=false;\n  if(d.dateString===this.state.todaysDate) {\n    isToday=true;\n    bgColor = '#00FFFF'\n    }\n\n  var emptyDivState = \n  <View style={{ height: '99%', width: '99%' }} >\n    <div onClick={() => { this.handleClickDay(d) }} style={{ height: '95%', width: '100%', backgroundColor:bgColor }}></div>\n  </View>\n  \n\n    if(this.state.calendarType==='alcohol' && this.props.acct_activity_data) {\n    var ctr = 0;\n  \n    while (ctr < this.props.acct_activity_data.length) {\n      if (this.props.acct_activity_data[ctr].date === d.dateString) {\n        return (<FormattedDay isToday={isToday} calendarType={this.props.calendarType} dayData={this.props.acct_activity_data[ctr].activity_data.alcoholDrinksHad}>    \n          </FormattedDay>);\n      }\n      ctr++;\n    }\n    return emptyDivState;\n  }\n\n  else if(this.state.calendarType==='diet' && this.props.acct_activity_data) {\n    var ctr = 0;\n    if( this.props.acct_activity_data.length)\n    while (ctr<this.props.acct_activity_data.length){\n        if(this.props.acct_activity_data[ctr].date===d.dateString){\n          return (<FormattedDay isToday={isToday} calendarType={this.props.calendarType} dayData={this.props.acct_activity_data[ctr].activity_data.followedDiet+this.props.acct_activity_data[ctr].activity_data.fastEnded}>    \n            </FormattedDay>);\n        \n        }\n        ctr++;\n    }\n    return emptyDivState;\n  }\n\n  else if(this.state.calendarType==='workout' && this.props.acct_activity_data) {\n    var ctr = 0;\n    if( this.props.acct_activity_data.length)\n     while (ctr<this.props.acct_activity_data.length){\n    if(this.props.acct_activity_data[ctr].date===d.dateString){\n      return (<FormattedDay isToday={isToday} calendarType={this.props.calendarType} dayData={this.props.acct_activity_data[ctr].activity_data.workOut}>    \n        </FormattedDay>);\n    }\n    ctr++;\n  }\n  return emptyDivState;\n  }\n\n}\n\n\nrender(){\n    return(<div>\n       <CalModals clickedDateData={this.state.clickedDateData} acct_activity_data={this.props.acct_activity_data} updateData={this.props.updateData} closeModal={this.closeModal.bind(this)} clickedDate={this.state.clickedDate} modalVisible={this.state.modalVisible} calType={this.state.calendarType} ></CalModals>\n         <CalendarList\n         ref={this._refCalendarList}\n        style={{ height: '600px' }}\n     \n        dayComponent={({ date, state }) => {\n          return (\n            //if not todays date\n            <div style={{ height: 'inherit', width: '100%' }}>\n                  <div style={{ height: 'inherit', width: '100%' }} onClick={() => { this.handleClickDay(date) }} >\n                  {this.getDayDiv(date)}\n                  </div>\n              \n            </div>\n          );\n        }}\n\n        theme={this.state.calTheme}\n\n        // Callback which gets executed when visible months change in scroll view. Default = undefined\n        // Max amount of months allowed to scroll to the past. Default = 50\n        pastScrollRange={4}\n        // Max amount of months allowed to scroll to the future. Default = 50\n        futureScrollRange={4}\n        // Enable or disable scrolling of calendar list\n        scrollEnabled={true}\n        // Enable or disable vertical scroll indicator. Default = false\n        showScrollIndicator={true}\n\n      />\n     \n    </div>)\n}\n\n}\n\nexport default MyCalendar"]},"metadata":{},"sourceType":"module"}