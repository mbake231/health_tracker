{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import MyCalendar from\"../components/MyCalendar\";import Cookies from'js-cookie';import axios from'axios';import{Tabs,Tab}from\"@tarragon/swipeable-tabs\";import Tutorial from\"../components/Tutorial\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var home=function(_Component){_inherits(home,_Component);var _super=_createSuper(home);function home(){var _this;_classCallCheck(this,home);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={account:null,selectedTab:\"Drinks\",showTutorial:false};return _this;}_createClass(home,[{key:\"updateData\",value:function updateData(){var _this2=this;var url;if(process.env.NODE_ENV=='production')url='';else url='http://localhost:3000';axios.get(url+'/Account',{withCredentials:true}).then(function(res){if(res){var res_data=res.data;_this2.setState({account:res.data});console.log(res.data);}}).catch(function(error){console.log(error);window.location.href='/welcome';});}},{key:\"componentDidMount\",value:function componentDidMount(){if(!Cookies.get('tutorialComplete')){this.setState({showTutorial:true});}this.updateData();}},{key:\"toggleTutorialModal\",value:function toggleTutorialModal(){this.setState({showTutorial:!this.state.showTutorial});}},{key:\"changeTab\",value:function changeTab(label){this.setState({selectedTab:label});}},{key:\"render\",value:function render(){var _this3=this;return _jsxs(\"div\",{children:[_jsx(Tutorial,{showTutorial:this.state.showTutorial,toggleTutorialModal:this.toggleTutorialModal.bind(this)}),_jsxs(Tabs,{tabItemCSS:{color:'#8C1C13',fontWeight:'bold'},tabBarCSS:{backgroundColor:'white',color:'#8C1C13'},value:this.state.selectedTab,onChange:function onChange(updateTab){return _this3.changeTab(updateTab.label);},children:[_jsx(Tab,{label:\"Drinks\",children:_jsx(MyCalendar,{calendarType:'alcohol',updateData:this.updateData.bind(this),acct_activity_data:this.state.account?this.state.account.activity_data.alcohol_data:{}})},0),_jsx(Tab,{label:\"Eating\",children:_jsx(MyCalendar,{calendarType:'diet',updateData:this.updateData.bind(this),acct_activity_data:this.state.account?this.state.account.activity_data.diet_data:{}})},1),_jsx(Tab,{label:\"Workout\",children:_jsx(MyCalendar,{calendarType:'workout',updateData:this.updateData.bind(this),acct_activity_data:this.state.account?this.state.account.activity_data.workout_data:{}})},2)]})]});}}]);return home;}(Component);export default home;","map":{"version":3,"sources":["/Users/mikebaker/health_tracker/client/containers/Home.jsx"],"names":["React","Component","MyCalendar","Cookies","axios","Tabs","Tab","Tutorial","home","state","account","selectedTab","showTutorial","url","process","env","NODE_ENV","get","withCredentials","then","res","res_data","data","setState","console","log","catch","error","window","location","href","updateData","label","toggleTutorialModal","bind","color","fontWeight","backgroundColor","updateTab","changeTab","activity_data","alcohol_data","diet_data","workout_data"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport MyCalendar from '../components/MyCalendar';\nimport Cookies from 'js-cookie'\n\nimport axios from 'axios';\nimport { Tabs, Tab } from \"@tarragon/swipeable-tabs\";\nimport Tutorial from '../components/Tutorial';\n\n\nexport class home extends Component {\n    \n    state = {\n        account: null,\n        selectedTab: \"Drinks\",\n        showTutorial: false\n    };\n\n   \n\n    updateData() {\n        var url;\n        if(process.env.NODE_ENV=='production')\n            url='';\n        else\n            url='http://localhost:3000'\n\n        axios.get(url+'/Account', { withCredentials: true })\n            .then(res => {\n                if (res) {\n\n                    const res_data = res.data;\n                    this.setState({ account: (res.data) })\n                    console.log(res.data)\n\n                }\n\n            }).catch((error) => {\n                console.log(error); //Logs a string: Error: Request failed with status code 404\n               window.location.href='/welcome';\n\n            });\n    }\n    componentDidMount() {\n       if(!Cookies.get('tutorialComplete')){\n           this.setState({showTutorial:true});\n       }\n        this.updateData();\n    }\n\n    toggleTutorialModal(){\n        this.setState({showTutorial:!this.state.showTutorial});\n    }\n\n    changeTab(label) {\n        this.setState({ selectedTab: label });\n    }\n\n\n    render() {\n        return (<div>\n            <Tutorial showTutorial={this.state.showTutorial} toggleTutorialModal={this.toggleTutorialModal.bind(this)}></Tutorial>\n            <Tabs tabItemCSS={{color:'#8C1C13', fontWeight:'bold'}}\n             tabBarCSS={{backgroundColor:'white',color:'#8C1C13'}} value={this.state.selectedTab} onChange={updateTab => this.changeTab(updateTab.label)}>\n                <Tab  label=\"Drinks\" key={0}>\n                        <MyCalendar calendarType={'alcohol'} updateData={this.updateData.bind(this)} acct_activity_data={(this.state.account ? this.state.account.activity_data.alcohol_data : {})}\n                        />\n                      </Tab>\n                <Tab label=\"Eating\" key={1}>\n                    <MyCalendar calendarType={'diet'} updateData={this.updateData.bind(this)} acct_activity_data={(this.state.account ? this.state.account.activity_data.diet_data : {})}\n                        />\n                    </Tab>\n                <Tab label=\"Workout\" key={2}>\n                <MyCalendar calendarType={'workout'} updateData={this.updateData.bind(this)} acct_activity_data={(this.state.account ? this.state.account.activity_data.workout_data : {})}\n                        />\n                </Tab>\n               \n            </Tabs>\n\n        </div>\n\n        );\n    }\n}\nexport default home"]},"metadata":{},"sourceType":"module"}