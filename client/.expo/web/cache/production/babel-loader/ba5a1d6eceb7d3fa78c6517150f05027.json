{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useEffect}from'react';import{Calendar,CalendarList,Agenda}from'react-native-calendars';import axios from'axios';import Alert from\"react-native-web/dist/exports/Alert\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import Pressable from\"react-native-web/dist/exports/Pressable\";import View from\"react-native-web/dist/exports/View\";import Modal from\"react-native-modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AlcoholCalendar(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),drinkValue=_useState2[0],setDrinkValue=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modalVisible=_useState4[0],setModalVisible=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];function getDayData(d){var ctr=0;while(ctr<props.alcohol_data.length){if(props.alcohol_data[ctr].date===d.dateString){return props.alcohol_data[ctr].activity_data.alcoholDrinksHad;}ctr++;}return'empty';}var styles=StyleSheet.create({centeredView:{justifyContent:\"center\",alignItems:\"center\",marginTop:22},modalView:{margin:20,backgroundColor:\"white\",borderRadius:20,padding:35,alignItems:\"center\",shadowColor:\"#000\",shadowOffset:{width:0,height:2},shadowOpacity:0.25,shadowRadius:4,elevation:5},button:{borderRadius:20,padding:10,elevation:2},buttonOpen:{backgroundColor:\"#F194FF\"},buttonClose:{backgroundColor:\"#2196F3\"},textStyle:{color:\"white\",fontWeight:\"bold\",textAlign:\"center\"},modalText:{marginBottom:15,textAlign:\"center\"}});function submitNewAlcoholData(){var json={activity_type:\"alcohol\",date:date,activity_data:{alcoholDrinksHad:drinkValue}};console.log(JSON.stringify(json));var url;if(process.env.NODE_ENV=='production')url='';else url='http://localhost:3000';axios.post(url+'/Activity/edit',json,{withCredentials:true},{headers:{'Content-Type':'application/json'}}).then(setTimeout(function(){props.updateData();},500));setModalVisible(false);}function handleClickDay(d){setModalVisible(true);setDate(d.dateString);}return _jsxs(\"div\",{children:[_jsx(CalendarList,{style:{height:'600px'},dayComponent:function dayComponent(_ref){var date=_ref.date,state=_ref.state;return _jsx(\"div\",{style:{height:'inherit',width:'100%'},children:getDayData(date)==='empty'?_jsx(View,{style:{height:'99%',width:'99%'},children:_jsx(\"div\",{onClick:function onClick(){handleClickDay(date);},style:{height:'100%',width:'100%',backgroundColor:'#ccc'}})}):_jsx(\"div\",{onClick:function onClick(){handleClickDay(date);},style:{display:'flex',margin:'auto',justifyContent:'center',paddingTop:'15px'},children:getDayData(date)})});},theme:{backgroundColor:'#ccc','stylesheet.calendar.main':{dayContainer:{borderBottomWidth:'2px',borderBottomColor:'black',borderTopWidth:'2px',borderTopColor:'black',borderLeftWidth:'1px',borderLeftColor:'black',borderRightWidth:'1px',borderRightColor:'black',flex:1,alignItems:'center',height:'60px'}}},pastScrollRange:0,futureScrollRange:4,scrollEnabled:true,showScrollIndicator:true}),_jsx(Modal,{animationType:\"slide\",onBackdropPress:function onBackdropPress(){setModalVisible(!modalVisible);},transparent:true,visible:modalVisible,onRequestClose:function onRequestClose(){Alert.alert(\"Modal has been closed.\");setModalVisible(!modalVisible);},children:_jsx(View,{style:styles.centeredView,children:_jsxs(View,{style:styles.modalView,children:[_jsxs(\"form\",{onChange:function onChange(e){return setDrinkValue(e.target.value);},children:[_jsx(\"div\",{children:\"Number of drinks\"}),_jsx(\"input\",{type:\"text\",value:drinkValue,onChange:function onChange(e){return setDrinkValue(e.target.value);}})]}),_jsx(Pressable,{style:[styles.button,styles.buttonClose],onPress:function onPress(){return submitNewAlcoholData();},children:_jsx(Text,{style:styles.textStyle,children:\"Save\"})})]})})})]});}","map":{"version":3,"sources":["/Users/mikebaker/health_tracker/client/components/AlcoholCalendar.jsx"],"names":["React","useState","useEffect","Calendar","CalendarList","Agenda","axios","Modal","AlcoholCalendar","props","drinkValue","setDrinkValue","modalVisible","setModalVisible","date","setDate","getDayData","d","ctr","alcohol_data","length","dateString","activity_data","alcoholDrinksHad","styles","StyleSheet","create","centeredView","justifyContent","alignItems","marginTop","modalView","margin","backgroundColor","borderRadius","padding","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","button","buttonOpen","buttonClose","textStyle","color","fontWeight","textAlign","modalText","marginBottom","submitNewAlcoholData","json","activity_type","console","log","JSON","stringify","url","process","env","NODE_ENV","post","withCredentials","headers","then","setTimeout","updateData","handleClickDay","state","display","paddingTop","dayContainer","borderBottomWidth","borderBottomColor","borderTopWidth","borderTopColor","borderLeftWidth","borderLeftColor","borderRightWidth","borderRightColor","flex","Alert","alert","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';\nimport {Calendar, CalendarList, Agenda} from 'react-native-calendars';\nimport axios from 'axios';\nimport { Alert, StyleSheet, Text, Pressable, View } from \"react-native\";\nimport Modal from \"react-native-modal\";\n\nexport default function AlcoholCalendar(props) {\n\n\n  const [drinkValue, setDrinkValue] = useState(\"\");\n  const [modalVisible, setModalVisible] = useState(false);\n  const [date, setDate] = useState(false);\n\n  function getDayData(d) {   \n  var ctr = 0;\n  while (ctr<props.alcohol_data.length){\n    if(props.alcohol_data[ctr].date===d.dateString){\n      return props.alcohol_data[ctr].activity_data.alcoholDrinksHad;\n    }\n    ctr++;\n  }\n  return 'empty';\n}\n\n\nconst styles = StyleSheet.create({\n  centeredView: {\n    \n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  button: {\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  },\n  buttonOpen: {\n    backgroundColor: \"#F194FF\",\n  },\n  buttonClose: {\n    backgroundColor: \"#2196F3\",\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  }\n});\n\n\nfunction submitNewAlcoholData(){\n  var json = ({\n    activity_type : \"alcohol\",\n    date : date,\n    activity_data : {\n        alcoholDrinksHad : drinkValue\n    }\n    });\nconsole.log(JSON.stringify(json))\nvar url;\n        if(process.env.NODE_ENV=='production')\n            url='';\n        else\n            url='http://localhost:3000'\n  axios.post(url+'/Activity/edit', json,{ withCredentials: true },{\n        headers: {'Content-Type': 'application/json'}})\n      .then(\n        setTimeout(() => {\n          props.updateData()\n       }, 500)\n\n        \n        );\n        setModalVisible(false);\n  \n}\n\n\n\nfunction handleClickDay(d){\n  setModalVisible(true);\n  setDate(d.dateString);\n}\n\n      return (\n        <div>\n        <CalendarList \n     style={{height:'600px'}}\n        dayComponent={({date, state}) => {\n          return (\n            <div style={{height: 'inherit', width:'100%'}}>\n            {(\n              getDayData(date)==='empty' ? \n              <View style={{height:'99%',width:'99%'}} >\n                <div onClick={() => {handleClickDay(date)}} style={{height: '100%', width:'100%',backgroundColor: '#ccc'}}></div>\n              </View>\n              :\n            <div onClick={() => {handleClickDay(date)}} style={{display: 'flex', margin: 'auto', justifyContent:'center',paddingTop:'15px'}}>{getDayData(date)}</div>\n              )}\n              </div>\n          );\n        }}\n        \n  theme={{\n    backgroundColor: '#ccc',\n    'stylesheet.calendar.main': {\n      dayContainer: {\n        borderBottomWidth:'2px',\n        borderBottomColor:'black',\n        borderTopWidth:'2px',\n        borderTopColor:'black',\n        borderLeftWidth:'1px',\n        borderLeftColor:'black',\n        borderRightWidth:'1px',\n        borderRightColor:'black',\n        flex: 1,\n        alignItems: 'center',\n        height:'60px'\n      \n      }\n    }\n  }}\n\n         // Callback which gets executed when visible months change in scroll view. Default = undefined\n   // Max amount of months allowed to scroll to the past. Default = 50\n   pastScrollRange={0}\n   // Max amount of months allowed to scroll to the future. Default = 50\n   futureScrollRange={4}\n   // Enable or disable scrolling of calendar list\n   scrollEnabled={true}\n   // Enable or disable vertical scroll indicator. Default = false\n   showScrollIndicator={true}\n  \n />\n\n            <Modal\n        animationType=\"slide\"\n        onBackdropPress={() => {setModalVisible(!modalVisible)}}\n        transparent={true}\n        visible={modalVisible}\n        onRequestClose={() => {\n          Alert.alert(\"Modal has been closed.\");\n          setModalVisible(!modalVisible);\n        }}\n       \n      >\n        <View style={styles.centeredView}>\n          <View style={styles.modalView}>\n          <form onChange={e=>setDrinkValue(e.target.value)}>\n              <div>Number of drinks</div>\n              <input type=\"text\" value={drinkValue} onChange={e => setDrinkValue(e.target.value)} />\n            </form>\n            <Pressable\n              style={[styles.button, styles.buttonClose]}\n              onPress={() => submitNewAlcoholData()}\n            >\n              <Text style={styles.textStyle}>Save</Text>\n            </Pressable>\n          </View>\n        </View>\n      </Modal>\n            \n            \n            </div>\n          )\n      }\n\n\n"]},"metadata":{},"sourceType":"module"}