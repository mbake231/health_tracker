{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SubmitPhone(props){var _useState=useState(\"+19738790000\"),_useState2=_slicedToArray(_useState,2),phone=_useState2[0],setPhone=_useState2[1];function submitPhone(){var jsonPhone={phone:phone};var url;if(process.env.NODE_ENV=='production')url='';else url='http://localhost:3000';axios.post(url+'/sendOTP',jsonPhone,{withCredentials:true},{headers:{'Content-Type':'application/json'}}).then(function(res){var res_data=res.data;if(res_data.otp){props.devhandlePhoneSubmit(res_data.phone,res_data.hash,res_data.otp);console.log(res_data.phone,res_data.hash);}});}function handleChange(e){setPhone(e.target.value);}return _jsxs(\"div\",{children:[\"Welcome! To sign in or join enter your phone number below\",_jsx(\"br\",{}),_jsx(\"br\",{}),_jsx(\"br\",{}),_jsx(\"input\",{type:\"phone\",value:phone,onChange:function onChange(e){return handleChange(e);}}),_jsx(\"button\",{onClick:function onClick(e){return submitPhone();},children:\"Submit phone number\"})]});}","map":{"version":3,"sources":["/Users/mikebaker/health_tracker/client/components/SubmitPhone.jsx"],"names":["React","useState","axios","SubmitPhone","props","phone","setPhone","submitPhone","jsonPhone","url","process","env","NODE_ENV","post","withCredentials","headers","then","res","res_data","data","otp","devhandlePhoneSubmit","hash","console","log","handleChange","e","target","value"],"mappings":"iEAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,CAEvC,cAA0BH,QAAQ,CAAC,cAAD,CAAlC,wCAAOI,KAAP,eAAcC,QAAd,eAGF,QAASC,CAAAA,WAAT,EAAsB,CAChB,GAAIC,CAAAA,SAAS,CAAI,CACbH,KAAK,CAACA,KADO,CAAjB,CAGI,GAAII,CAAAA,GAAJ,CACA,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,EAAsB,YAAzB,CACIH,GAAG,CAAC,EAAJ,CADJ,IAGIA,CAAAA,GAAG,CAAC,uBAAJ,CAENP,KAAK,CAACW,IAAN,CAAWJ,GAAG,CAAC,UAAf,CAA0BD,SAA1B,CAAoC,CAAEM,eAAe,CAAE,IAAnB,CAApC,CAA+D,CAC7DC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CADoD,CAA/D,EAECC,IAFD,CAEM,SAAAC,GAAG,CAAI,CACX,GAAMC,CAAAA,QAAQ,CAAGD,GAAG,CAACE,IAArB,CACA,GAAID,QAAQ,CAACE,GAAb,CAAkB,CAKdhB,KAAK,CAACiB,oBAAN,CAA2BH,QAAQ,CAACb,KAApC,CAA0Ca,QAAQ,CAACI,IAAnD,CAAwDJ,QAAQ,CAACE,GAAjE,EACAG,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACb,KAArB,CAA2Ba,QAAQ,CAACI,IAApC,EACH,CAEF,CAbD,EAeH,CAGN,QAASG,CAAAA,YAAT,CAAsBC,CAAtB,CAAwB,CACrBpB,QAAQ,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACH,CAGD,MAAO,oFACsD,aADtD,CAC2D,aAD3D,CACgE,aADhE,CAEH,cACA,IAAI,CAAC,OADL,CAEA,KAAK,CAAEvB,KAFP,CAGA,QAAQ,CAAE,kBAAAqB,CAAC,QAAED,CAAAA,YAAY,CAACC,CAAD,CAAd,EAHX,EAFG,CAQN,eAAQ,OAAO,CAAE,iBAAAA,CAAC,QAAEnB,CAAAA,WAAW,EAAb,EAAlB,iCARM,GAAP,CAWC","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nexport default function SubmitPhone(props) {\n\n    const [phone, setPhone] = useState(\"+19738790000\");\n\n\n  function submitPhone(){\n        var jsonPhone = ({\n            phone:phone\n            });\n            var url;\n            if(process.env.NODE_ENV=='production')\n                url='';\n            else\n                url='http://localhost:3000'\n                \n          axios.post(url+'/sendOTP',jsonPhone,{ withCredentials: true }, {\n            headers: {'Content-Type': 'application/json'}})\n          .then(res => {\n            const res_data = res.data;\n            if (res_data.otp) {\n                //production method\n               // props.handlePhoneSubmit(res_data.phone,res_data.hash,res_data.otp);\n\n               //dev method\n                props.devhandlePhoneSubmit(res_data.phone,res_data.hash,res_data.otp);\n                console.log(res_data.phone,res_data.hash);\n            }\n                \n          })\n    \n      } \n\n\n function handleChange(e){\n    setPhone(e.target.value)\n}\n\n\nreturn(<div> \n    Welcome! To sign in or join enter your phone number below<br/><br/><br/>\n    <input\n    type=\"phone\"\n    value={phone}\n    onChange={e=>handleChange(e)}\n />\n\n <button onClick={e=>submitPhone()}>Submit phone number</button>\n </div>);\n\n}\n"]},"metadata":{},"sourceType":"module"}