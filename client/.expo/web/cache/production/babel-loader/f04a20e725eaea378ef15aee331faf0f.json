{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";var _this=this;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import PropTypes from'prop-types';import XDate from'xdate';import React,{useRef,useState,useEffect,useCallback}from'react';import View from\"react-native-web/dist/exports/View\";import GestureRecognizer,{swipeDirections}from'react-native-swipe-gestures';import constants from\"../commons/constants\";import{page,isGTE,isLTE,sameMonth}from\"../dateutils\";import{xdateToData,parseDate,toMarkingFormat}from\"../interface\";import{getState}from\"../day-state-manager\";import{extractComponentProps}from\"../componentUpdater\";import{WEEK_NUMBER}from\"../testIDs\";import styleConstructor from\"./style\";import CalendarHeader from\"./header\";import Day from\"./day/index\";import BasicDay from\"./day/basic\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Calendar=function Calendar(props){var initialDate=props.initialDate,current=props.current,theme=props.theme,disableMonthChange=props.disableMonthChange,allowSelectionOutOfRange=props.allowSelectionOutOfRange,minDate=props.minDate,maxDate=props.maxDate,onDayPress=props.onDayPress,onDayLongPress=props.onDayLongPress,hideExtraDays=props.hideExtraDays,markedDates=props.markedDates,firstDay=props.firstDay,showSixWeeks=props.showSixWeeks,customHeader=props.customHeader,headerStyle=props.headerStyle,displayLoadingIndicator=props.displayLoadingIndicator,testID=props.testID,enableSwipeMonths=props.enableSwipeMonths,accessibilityElementsHidden=props.accessibilityElementsHidden,importantForAccessibility=props.importantForAccessibility,onMonthChange=props.onMonthChange,onVisibleMonthsChange=props.onVisibleMonthsChange,propsStyle=props.style;var _useState=useState(current||initialDate?parseDate(current||initialDate):new XDate()),_useState2=_slicedToArray(_useState,2),currentMonth=_useState2[0],setCurrentMonth=_useState2[1];var style=useRef(styleConstructor(theme));var header=useRef();var isMounted=useRef(false);useEffect(function(){if(initialDate){setCurrentMonth(parseDate(initialDate));}},[initialDate]);useEffect(function(){if(isMounted.current){var _currentMonth=currentMonth.clone();onMonthChange==null?void 0:onMonthChange(xdateToData(_currentMonth));onVisibleMonthsChange==null?void 0:onVisibleMonthsChange([xdateToData(_currentMonth)]);}else{isMounted.current=true;}},[currentMonth]);var updateMonth=function updateMonth(newMonth){if(sameMonth(newMonth,currentMonth)){return;}setCurrentMonth(newMonth);};var addMonth=useCallback(function(count){var newMonth=currentMonth.clone().addMonths(count,true);updateMonth(newMonth);},[currentMonth,updateMonth]);var handleDayInteraction=useCallback(function(date,interaction){var day=parseDate(date);var min=parseDate(minDate);var max=parseDate(maxDate);if(allowSelectionOutOfRange||!(min&&!isGTE(day,min))&&!(max&&!isLTE(day,max))){if(!disableMonthChange){updateMonth(day);}if(interaction){interaction(date);}}},[minDate,maxDate,allowSelectionOutOfRange,disableMonthChange,updateMonth]);var onPressDay=useCallback(function(date){if(date)handleDayInteraction(date,onDayPress);},[handleDayInteraction,onDayPress]);var onLongPressDay=useCallback(function(date){if(date)handleDayInteraction(date,onDayLongPress);},[handleDayInteraction,onDayLongPress]);var onSwipeLeft=useCallback(function(){var _header$current;(_header$current=header.current)==null?void 0:_header$current.onPressRight();},[header]);var onSwipeRight=useCallback(function(){var _header$current2;(_header$current2=header.current)==null?void 0:_header$current2.onPressLeft();},[header]);var _onSwipe=useCallback(function(gestureName){var SWIPE_UP=swipeDirections.SWIPE_UP,SWIPE_DOWN=swipeDirections.SWIPE_DOWN,SWIPE_LEFT=swipeDirections.SWIPE_LEFT,SWIPE_RIGHT=swipeDirections.SWIPE_RIGHT;switch(gestureName){case SWIPE_UP:case SWIPE_DOWN:break;case SWIPE_LEFT:constants.isRTL?onSwipeRight():onSwipeLeft();break;case SWIPE_RIGHT:constants.isRTL?onSwipeLeft():onSwipeRight();break;}},[onSwipeLeft,onSwipeRight]);var renderWeekNumber=function renderWeekNumber(weekNumber){return _jsx(View,{style:style.current.dayContainer,children:_jsx(BasicDay,{marking:{disabled:true,disableTouchEvent:true},theme:theme,testID:WEEK_NUMBER+\"-\"+weekNumber,children:weekNumber},\"week-\"+weekNumber)},\"week-container-\"+weekNumber);};var renderDay=function renderDay(day,id){var dayProps=extractComponentProps(Day,props);if(!sameMonth(day,currentMonth)&&hideExtraDays){return _jsx(View,{style:style.current.emptyDayContainer},id);}return _jsx(View,{style:style.current.dayContainer,children:_jsx(Day,_objectSpread(_objectSpread({},dayProps),{},{date:toMarkingFormat(day),state:getState(day,currentMonth,props),marking:markedDates==null?void 0:markedDates[toMarkingFormat(day)],onPress:onPressDay,onLongPress:onLongPressDay}))},id);};var renderWeek=function renderWeek(days,id){var week=[];days.forEach(function(day,id2){week.push(renderDay(day,id2));},_this);if(props.showWeekNumbers){week.unshift(renderWeekNumber(days[days.length-1].getWeek()));}return _jsx(View,{style:style.current.week,children:week},id);};var renderMonth=function renderMonth(){var shouldShowSixWeeks=showSixWeeks&&!hideExtraDays;var days=page(currentMonth,firstDay,shouldShowSixWeeks);var weeks=[];while(days.length){weeks.push(renderWeek(days.splice(0,7),weeks.length));}return _jsx(View,{style:style.current.monthView,children:weeks});};var renderHeader=function renderHeader(){var indicator;if(currentMonth){var lastMonthOfDay=toMarkingFormat(currentMonth.clone().addMonths(1,true).setDate(1).addDays(-1));if(displayLoadingIndicator&&!(markedDates!=null&&markedDates[lastMonthOfDay])){indicator=true;}}var headerProps=extractComponentProps(CalendarHeader,props);var ref=customHeader?undefined:header;var CustomHeader=customHeader;var HeaderComponent=customHeader?CustomHeader:CalendarHeader;return _jsx(HeaderComponent,_objectSpread(_objectSpread({},headerProps),{},{testID:testID,style:headerStyle,ref:ref,month:currentMonth,addMonth:addMonth,displayLoadingIndicator:indicator}));};var GestureComponent=enableSwipeMonths?GestureRecognizer:View;var swipeProps={onSwipe:function onSwipe(direction){return _onSwipe(direction);}};var gestureProps=enableSwipeMonths?swipeProps:undefined;return _jsx(GestureComponent,_objectSpread(_objectSpread({},gestureProps),{},{children:_jsxs(View,{style:[style.current.container,propsStyle],accessibilityElementsHidden:accessibilityElementsHidden,importantForAccessibility:importantForAccessibility,children:[renderHeader(),renderMonth()]})}));};export default Calendar;Calendar.displayName='Calendar';Calendar.propTypes=_objectSpread(_objectSpread(_objectSpread({},CalendarHeader.propTypes),Day.propTypes),{},{theme:PropTypes.object,firstDay:PropTypes.number,displayLoadingIndicator:PropTypes.bool,showWeekNumbers:PropTypes.bool,style:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.number]),current:PropTypes.string,initialDate:PropTypes.string,minDate:PropTypes.string,maxDate:PropTypes.string,markedDates:PropTypes.object,hideExtraDays:PropTypes.bool,showSixWeeks:PropTypes.bool,onDayPress:PropTypes.func,onDayLongPress:PropTypes.func,onMonthChange:PropTypes.func,onVisibleMonthsChange:PropTypes.func,disableMonthChange:PropTypes.bool,enableSwipeMonths:PropTypes.bool,disabledByDefault:PropTypes.bool,headerStyle:PropTypes.oneOfType([PropTypes.object,PropTypes.number,PropTypes.array]),customHeader:PropTypes.any,allowSelectionOutOfRange:PropTypes.bool});Calendar.defaultProps={enableSwipeMonths:false};","map":{"version":3,"sources":["/Users/mikebaker/health_tracker/client/node_modules/react-native-calendars/src/calendar/index.js"],"names":["PropTypes","XDate","React","useRef","useState","useEffect","useCallback","GestureRecognizer","swipeDirections","constants","page","isGTE","isLTE","sameMonth","xdateToData","parseDate","toMarkingFormat","getState","extractComponentProps","WEEK_NUMBER","styleConstructor","CalendarHeader","Day","BasicDay","Calendar","props","initialDate","current","theme","disableMonthChange","allowSelectionOutOfRange","minDate","maxDate","onDayPress","onDayLongPress","hideExtraDays","markedDates","firstDay","showSixWeeks","customHeader","headerStyle","displayLoadingIndicator","testID","enableSwipeMonths","accessibilityElementsHidden","importantForAccessibility","onMonthChange","onVisibleMonthsChange","propsStyle","style","currentMonth","setCurrentMonth","header","isMounted","_currentMonth","clone","updateMonth","newMonth","addMonth","count","addMonths","handleDayInteraction","date","interaction","day","min","max","onPressDay","onLongPressDay","onSwipeLeft","onPressRight","onSwipeRight","onPressLeft","onSwipe","gestureName","SWIPE_UP","SWIPE_DOWN","SWIPE_LEFT","SWIPE_RIGHT","isRTL","renderWeekNumber","weekNumber","dayContainer","disabled","disableTouchEvent","renderDay","id","dayProps","emptyDayContainer","renderWeek","days","week","forEach","id2","push","showWeekNumbers","unshift","length","getWeek","renderMonth","shouldShowSixWeeks","weeks","splice","monthView","renderHeader","indicator","lastMonthOfDay","setDate","addDays","headerProps","ref","undefined","CustomHeader","HeaderComponent","GestureComponent","View","swipeProps","direction","gestureProps","container","displayName","propTypes","object","number","bool","oneOfType","array","string","func","disabledByDefault","any","defaultProps"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport React, { useRef, useState, useEffect, useCallback } from 'react';\nimport { View } from 'react-native';\n// @ts-expect-error\nimport GestureRecognizer, { swipeDirections } from 'react-native-swipe-gestures';\nimport constants from '../commons/constants';\nimport { page, isGTE, isLTE, sameMonth } from '../dateutils';\nimport { xdateToData, parseDate, toMarkingFormat } from '../interface';\nimport { getState } from '../day-state-manager';\nimport { extractComponentProps } from '../componentUpdater';\n// @ts-expect-error\nimport { WEEK_NUMBER } from '../testIDs';\nimport styleConstructor from './style';\nimport CalendarHeader from './header';\nimport Day from './day/index';\nimport BasicDay from './day/basic';\n/**\n * @description: Calendar component\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/calendars.js\n * @gif: https://github.com/wix/react-native-calendars/blob/master/demo/assets/calendar.gif\n */\nconst Calendar = (props) => {\n    const { initialDate, current, theme, disableMonthChange, allowSelectionOutOfRange, minDate, maxDate, onDayPress, onDayLongPress, hideExtraDays, markedDates, firstDay, showSixWeeks, customHeader, headerStyle, displayLoadingIndicator, testID, enableSwipeMonths, accessibilityElementsHidden, importantForAccessibility, onMonthChange, onVisibleMonthsChange, style: propsStyle } = props;\n    const [currentMonth, setCurrentMonth] = useState(current || initialDate ? parseDate(current || initialDate) : new XDate());\n    const style = useRef(styleConstructor(theme));\n    const header = useRef();\n    const isMounted = useRef(false);\n    useEffect(() => {\n        if (initialDate) {\n            setCurrentMonth(parseDate(initialDate));\n        }\n    }, [initialDate]);\n    useEffect(() => {\n        if (isMounted.current) {\n            // Avoid callbacks call on mount\n            const _currentMonth = currentMonth.clone();\n            onMonthChange?.(xdateToData(_currentMonth));\n            onVisibleMonthsChange?.([xdateToData(_currentMonth)]);\n        }\n        else {\n            isMounted.current = true;\n        }\n    }, [currentMonth]);\n    const updateMonth = (newMonth) => {\n        if (sameMonth(newMonth, currentMonth)) {\n            return;\n        }\n        setCurrentMonth(newMonth);\n    };\n    const addMonth = useCallback((count) => {\n        const newMonth = currentMonth.clone().addMonths(count, true);\n        updateMonth(newMonth);\n    }, [currentMonth, updateMonth]);\n    const handleDayInteraction = useCallback((date, interaction) => {\n        const day = parseDate(date);\n        const min = parseDate(minDate);\n        const max = parseDate(maxDate);\n        if (allowSelectionOutOfRange || !(min && !isGTE(day, min)) && !(max && !isLTE(day, max))) {\n            if (!disableMonthChange) {\n                updateMonth(day);\n            }\n            if (interaction) {\n                interaction(date);\n            }\n        }\n    }, [minDate, maxDate, allowSelectionOutOfRange, disableMonthChange, updateMonth]);\n    const onPressDay = useCallback((date) => {\n        if (date)\n            handleDayInteraction(date, onDayPress);\n    }, [handleDayInteraction, onDayPress]);\n    const onLongPressDay = useCallback((date) => {\n        if (date)\n            handleDayInteraction(date, onDayLongPress);\n    }, [handleDayInteraction, onDayLongPress]);\n    const onSwipeLeft = useCallback(() => {\n        // @ts-expect-error\n        header.current?.onPressRight();\n    }, [header]);\n    const onSwipeRight = useCallback(() => {\n        // @ts-expect-error\n        header.current?.onPressLeft();\n    }, [header]);\n    const onSwipe = useCallback((gestureName) => {\n        const { SWIPE_UP, SWIPE_DOWN, SWIPE_LEFT, SWIPE_RIGHT } = swipeDirections;\n        switch (gestureName) {\n            case SWIPE_UP:\n            case SWIPE_DOWN:\n                break;\n            case SWIPE_LEFT:\n                constants.isRTL ? onSwipeRight() : onSwipeLeft();\n                break;\n            case SWIPE_RIGHT:\n                constants.isRTL ? onSwipeLeft() : onSwipeRight();\n                break;\n        }\n    }, [onSwipeLeft, onSwipeRight]);\n    const renderWeekNumber = (weekNumber) => {\n        return (<View style={style.current.dayContainer} key={`week-container-${weekNumber}`}>\n        <BasicDay key={`week-${weekNumber}`} marking={{ disabled: true, disableTouchEvent: true }} \n        // state='disabled'\n        theme={theme} testID={`${WEEK_NUMBER}-${weekNumber}`}>\n          {weekNumber}\n        </BasicDay>\n      </View>);\n    };\n    const renderDay = (day, id) => {\n        const dayProps = extractComponentProps(Day, props);\n        if (!sameMonth(day, currentMonth) && hideExtraDays) {\n            return <View key={id} style={style.current.emptyDayContainer}/>;\n        }\n        return (<View style={style.current.dayContainer} key={id}>\n        <Day {...dayProps} date={toMarkingFormat(day)} state={getState(day, currentMonth, props)} marking={markedDates?.[toMarkingFormat(day)]} onPress={onPressDay} onLongPress={onLongPressDay}/>\n      </View>);\n    };\n    const renderWeek = (days, id) => {\n        const week = [];\n        days.forEach((day, id2) => {\n            week.push(renderDay(day, id2));\n        }, this);\n        if (props.showWeekNumbers) {\n            week.unshift(renderWeekNumber(days[days.length - 1].getWeek()));\n        }\n        return (<View style={style.current.week} key={id}>\n        {week}\n      </View>);\n    };\n    const renderMonth = () => {\n        const shouldShowSixWeeks = showSixWeeks && !hideExtraDays;\n        const days = page(currentMonth, firstDay, shouldShowSixWeeks);\n        const weeks = [];\n        while (days.length) {\n            weeks.push(renderWeek(days.splice(0, 7), weeks.length));\n        }\n        return <View style={style.current.monthView}>{weeks}</View>;\n    };\n    const renderHeader = () => {\n        let indicator;\n        if (currentMonth) {\n            const lastMonthOfDay = toMarkingFormat(currentMonth.clone().addMonths(1, true).setDate(1).addDays(-1));\n            if (displayLoadingIndicator && !markedDates?.[lastMonthOfDay]) {\n                indicator = true;\n            }\n        }\n        const headerProps = extractComponentProps(CalendarHeader, props);\n        const ref = customHeader ? undefined : header;\n        const CustomHeader = customHeader;\n        const HeaderComponent = customHeader ? CustomHeader : CalendarHeader;\n        return (<HeaderComponent {...headerProps} testID={testID} style={headerStyle} ref={ref} month={currentMonth} addMonth={addMonth} displayLoadingIndicator={indicator}/>);\n    };\n    const GestureComponent = enableSwipeMonths ? GestureRecognizer : View;\n    const swipeProps = {\n        onSwipe: (direction) => onSwipe(direction)\n    };\n    const gestureProps = enableSwipeMonths ? swipeProps : undefined;\n    return (<GestureComponent {...gestureProps}>\n      <View style={[style.current.container, propsStyle]} accessibilityElementsHidden={accessibilityElementsHidden} // iOS\n     importantForAccessibility={importantForAccessibility} // Android\n    >\n        {renderHeader()}\n        {renderMonth()}\n      </View>\n    </GestureComponent>);\n};\nexport default Calendar;\nCalendar.displayName = 'Calendar';\nCalendar.propTypes = {\n    ...CalendarHeader.propTypes,\n    ...Day.propTypes,\n    theme: PropTypes.object,\n    firstDay: PropTypes.number,\n    displayLoadingIndicator: PropTypes.bool,\n    showWeekNumbers: PropTypes.bool,\n    style: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.number]),\n    current: PropTypes.string,\n    initialDate: PropTypes.string,\n    minDate: PropTypes.string,\n    maxDate: PropTypes.string,\n    markedDates: PropTypes.object,\n    hideExtraDays: PropTypes.bool,\n    showSixWeeks: PropTypes.bool,\n    onDayPress: PropTypes.func,\n    onDayLongPress: PropTypes.func,\n    onMonthChange: PropTypes.func,\n    onVisibleMonthsChange: PropTypes.func,\n    disableMonthChange: PropTypes.bool,\n    enableSwipeMonths: PropTypes.bool,\n    disabledByDefault: PropTypes.bool,\n    headerStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n    customHeader: PropTypes.any,\n    allowSelectionOutOfRange: PropTypes.bool\n};\nCalendar.defaultProps = {\n    enableSwipeMonths: false\n};\n"]},"metadata":{},"sourceType":"module"}