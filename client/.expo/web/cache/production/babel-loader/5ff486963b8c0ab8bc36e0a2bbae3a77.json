{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import axios from'axios';import{Redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var API=function(_Component){_inherits(API,_Component);var _super=_createSuper(API);function API(){var _this;_classCallCheck(this,API);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={hash:null,value:\"h\",otp:0};return _this;}_createClass(API,[{key:\"home\",value:function home(){window.location.href='/';}},{key:\"sendOTP\",value:function sendOTP(){var jsonPhone={phone:'+19738790000',hash:this.state.hash,otp:this.state.value};var url;if(process.env.NODE_ENV=='production')url='prod';else url='http://localhost:3000';axios.post(url+'/verifyOTP',jsonPhone,{withCredentials:true},{headers:{'Content-Type':'application/json'}}).then(function(res){var res_data=res.data;console.log(res_data);console.log(!res_data.registered);if(!res_data.registered)window.location.href='/register';});}},{key:\"handleChange\",value:function handleChange(e){this.setState({value:e.target.value});}},{key:\"txtOTP\",value:function txtOTP(){var _this2=this;var jsonPhone={phone:'+19738790000'};var url;if(process.env.NODE_ENV=='production')url='prod';else url='http://localhost:3000';axios.post(url+'/sendOTP',jsonPhone,{withCredentials:true},{headers:{'Content-Type':'application/json'}}).then(function(res){var res_data=res.data;_this2.setState({hash:res_data.hash});if(res_data.otp)_this2.setState({value:res_data.otp});console.log(res_data);});}},{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){return _jsxs(\"div\",{children:[_jsx(\"input\",{type:\"text\",value:this.state.value,onChange:this.handleChange.bind(this)}),_jsx(\"button\",{onClick:this.sendOTP.bind(this),children:\"submit code\"}),\";\",_jsx(\"button\",{onClick:this.txtOTP.bind(this),children:\"get code\"}),\";\",_jsx(\"button\",{onClick:this.home.bind(this),children:\"try login\"}),\";\",this.state.hash]});}}]);return API;}(Component);export default API;","map":{"version":3,"sources":["/Users/mikebaker/health_tracker/client/containers/AUTH.jsx"],"names":["React","Component","axios","Redirect","API","state","hash","value","otp","window","location","href","jsonPhone","phone","url","process","env","NODE_ENV","post","withCredentials","headers","then","res","res_data","data","console","log","registered","e","setState","target","handleChange","bind","sendOTP","txtOTP","home"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Redirect } from \"react-router-dom\";\n\n\nexport class API extends Component {\n\n    \n    \n  state = {\n    hash:null,\n    value:\"h\",\n    otp:0\n\n  };\n\n  home(){\n    window.location.href='/'\n\n  }\n\n  sendOTP(){\n    var jsonPhone = ({\n        phone:'+19738790000',\n        hash:this.state.hash,\n        otp:this.state.value\n      \n    });\n    var url;\n        if(process.env.NODE_ENV=='production')\n            url='prod';\n        else\n            url='http://localhost:3000'\n    axios.post(url+'/verifyOTP', jsonPhone,{ withCredentials: true },{\n        headers: {'Content-Type': 'application/json'}})\n      .then(res => {\n        const res_data = res.data;\n        console.log(res_data)\n        console.log(!res_data.registered)\n\n        if(!res_data.registered)\n        window.location.href='/register';\n\n      })\n  }\n\n  handleChange(e){\n      this.setState({value:e.target.value})\n  }\n\n  txtOTP(){\n\n    var jsonPhone = ({\n        phone:'+19738790000'\n        });\n        var url;\n        if(process.env.NODE_ENV=='production')\n            url='prod';\n        else\n            url='http://localhost:3000'\n      axios.post(url+'/sendOTP',jsonPhone,{ withCredentials: true }, {\n        headers: {'Content-Type': 'application/json'}})\n      .then(res => {\n        const res_data = res.data;\n        this.setState({hash:res_data.hash})\n        if (res_data.otp)\n            this.setState({value:res_data.otp})\n        console.log(res_data)\n      })\n  }\n  componentDidMount() {\n\n\n      \n  }\n\n\n  render() {\n    return (<div> \n        \n      <input\n            type=\"text\"\n            value={this.state.value}\n            onChange={this.handleChange.bind(this)}\n         />\n         <button onClick={this.sendOTP.bind(this)}>submit code</button>;\n         <button onClick={this.txtOTP.bind(this)}>get code</button>;\n         <button onClick={this.home.bind(this)}>try login</button>;\n\n        {this.state.hash}\n    </div>\n\n    );\n  }\n}\nexport default API"]},"metadata":{},"sourceType":"module"}