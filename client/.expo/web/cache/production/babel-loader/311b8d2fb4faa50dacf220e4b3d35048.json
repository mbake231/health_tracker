{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from'react';import axios from'axios';import PhoneInput from'react-phone-input-2';import'react-phone-input-2/lib/style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SubmitPhone(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),phone=_useState2[0],setPhone=_useState2[1];function submitPhone(){var jsonPhone={phone:phone};var url;if(process.env.NODE_ENV=='production')url='';else url='http://localhost:3000';axios.post(url+'/sendOTP',jsonPhone,{withCredentials:true},{headers:{'Content-Type':'application/json'}}).then(function(res){var res_data=res.data;if(res_data.otp){props.devhandlePhoneSubmit(res_data.phone,res_data.hash,res_data.otp);}else if(res_data){props.handlePhoneSubmit(res_data.phone,res_data.hash);}});}function handleChange(e){console.log(e);setPhone(e);}return _jsxs(\"div\",{style:{textAlign:'center',textSize:'40px'},children:[_jsx(\"h1\",{style:{paddingTop:'30px',fontWeight:'bold',fontSize:'30px',fontFamily:'Source Sans Pro',fontFamily:'S'},children:\"Welcome!\"}),\" \",_jsx(\"br\",{}),_jsxs(\"div\",{style:{paddingTop:'30px',fontWeight:'bold',fontSize:'30px',fontFamily:'Source Sans Pro',fontFamily:'S'},children:[\"To join or sign in enter your phone number below\",_jsx(\"br\",{}),_jsx(\"br\",{}),_jsx(\"br\",{}),_jsx(PhoneInput,{country:'us',value:phone,onChange:function onChange(e){return handleChange(e);},style:{margin:'0 auto',width:'300px'}})]}),_jsx(\"br\",{}),_jsx(\"br\",{}),_jsx(\"button\",{onClick:function onClick(e){return submitPhone();},children:\"Submit\"})]});}","map":{"version":3,"sources":["/Users/mikebaker/health_tracker/client/components/SubmitPhone.jsx"],"names":["React","useState","axios","PhoneInput","SubmitPhone","props","phone","setPhone","submitPhone","jsonPhone","url","process","env","NODE_ENV","post","withCredentials","headers","then","res","res_data","data","otp","devhandlePhoneSubmit","hash","handlePhoneSubmit","handleChange","e","console","log","textAlign","textSize","paddingTop","fontWeight","fontSize","fontFamily","margin","width"],"mappings":"iEAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CACA,MAAO,mCAAP,C,wFAEA,cAAe,SAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,CAEvC,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eAGF,QAASC,CAAAA,WAAT,EAAsB,CAChB,GAAIC,CAAAA,SAAS,CAAI,CACbH,KAAK,CAACA,KADO,CAAjB,CAGI,GAAII,CAAAA,GAAJ,CACA,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,EAAsB,YAAzB,CACIH,GAAG,CAAC,EAAJ,CADJ,IAGIA,CAAAA,GAAG,CAAC,uBAAJ,CAENR,KAAK,CAACY,IAAN,CAAWJ,GAAG,CAAC,UAAf,CAA0BD,SAA1B,CAAoC,CAAEM,eAAe,CAAE,IAAnB,CAApC,CAA+D,CAC7DC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CADoD,CAA/D,EAECC,IAFD,CAEM,SAAAC,GAAG,CAAI,CACX,GAAMC,CAAAA,QAAQ,CAAGD,GAAG,CAACE,IAArB,CACA,GAAID,QAAQ,CAACE,GAAb,CAAkB,CAIdhB,KAAK,CAACiB,oBAAN,CAA2BH,QAAQ,CAACb,KAApC,CAA0Ca,QAAQ,CAACI,IAAnD,CAAwDJ,QAAQ,CAACE,GAAjE,EAEH,CAND,IAOK,IAAGF,QAAH,CAAY,CAEbd,KAAK,CAACmB,iBAAN,CAAwBL,QAAQ,CAACb,KAAjC,CAAuCa,QAAQ,CAACI,IAAhD,EACH,CAEF,CAhBD,EAkBH,CAGN,QAASE,CAAAA,YAAT,CAAsBC,CAAtB,CAAwB,CACpBC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACDnB,QAAQ,CAACmB,CAAD,CAAR,CACH,CAGD,MAAO,cAAK,KAAK,CAAE,CAACG,SAAS,CAAC,QAAX,CAAoBC,QAAQ,CAAC,MAA7B,CAAZ,WACH,WAAI,KAAK,CAAE,CAACC,UAAU,CAAC,MAAZ,CAAmBC,UAAU,CAAC,MAA9B,CAAqCC,QAAQ,CAAC,MAA9C,CAAsDC,UAAU,CAAE,iBAAlE,CAAqFA,UAAU,CAAC,GAAhG,CAAX,sBADG,KAC4H,aAD5H,CAEH,aAAK,KAAK,CAAE,CAACH,UAAU,CAAC,MAAZ,CAAmBC,UAAU,CAAC,MAA9B,CAAqCC,QAAQ,CAAC,MAA9C,CAAsDC,UAAU,CAAE,iBAAlE,CAAqFA,UAAU,CAAC,GAAhG,CAAZ,8DAAkK,aAAlK,CAAuK,aAAvK,CAA4K,aAA5K,CAEH,KAAC,UAAD,EACC,OAAO,CAAE,IADV,CAEC,KAAK,CAAE5B,KAFR,CAGC,QAAQ,CAAE,kBAACoB,CAAD,QAAKD,CAAAA,YAAY,CAACC,CAAD,CAAjB,EAHX,CAIG,KAAK,CAAE,CAACS,MAAM,CAAC,QAAR,CACHC,KAAK,CAAC,OADH,CAJV,EAFG,GAFG,CAYP,aAZO,CAYF,aAZE,CAaN,eAAQ,OAAO,CAAE,iBAAAV,CAAC,QAAElB,CAAAA,WAAW,EAAb,EAAlB,oBAbM,GAAP,CAgBC","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport PhoneInput from 'react-phone-input-2'\nimport 'react-phone-input-2/lib/style.css'\n\nexport default function SubmitPhone(props) {\n\n    const [phone, setPhone] = useState('');\n\n\n  function submitPhone(){\n        var jsonPhone = ({\n            phone:phone\n            });\n            var url;\n            if(process.env.NODE_ENV=='production')\n                url='';\n            else\n                url='http://localhost:3000'\n                \n          axios.post(url+'/sendOTP',jsonPhone,{ withCredentials: true }, {\n            headers: {'Content-Type': 'application/json'}})\n          .then(res => {\n            const res_data = res.data;\n            if (res_data.otp) {\n                \n\n               //dev method\n                props.devhandlePhoneSubmit(res_data.phone,res_data.hash,res_data.otp);\n                //console.log(res_data.phone,res_data.hash);\n            }\n            else if(res_data){\n                //production method\n                props.handlePhoneSubmit(res_data.phone,res_data.hash);\n            }\n                \n          })\n    \n      } \n\n\n function handleChange(e){\n     console.log(e)\n    setPhone(e)\n}\n\n\nreturn(<div style={{textAlign:'center',textSize:'40px'}}> \n    <h1 style={{paddingTop:'30px',fontWeight:'bold',fontSize:'30px', fontFamily: 'Source Sans Pro', fontFamily:'S'}}>Welcome!</h1> <br/>\n    <div style={{paddingTop:'30px',fontWeight:'bold',fontSize:'30px', fontFamily: 'Source Sans Pro', fontFamily:'S'}}>To join or sign in enter your phone number below<br/><br/><br/>\n\n <PhoneInput\n  country={'us'}\n  value={phone}\n  onChange={(e)=>handleChange(e)}\n    style={{margin:'0 auto',\n        width:'300px'\n        }}\n/></div>\n<br/><br/>\n <button onClick={e=>submitPhone()}>Submit</button>\n </div>);\n\n}\n"]},"metadata":{},"sourceType":"module"}