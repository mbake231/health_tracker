{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from'react';import{Calendar,CalendarList,Agenda}from'react-native-calendars';import Drawer from\"react-bottom-drawer\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AlcoholCalendar(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),drinkValue=_useState2[0],setDrinkValue=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),drawerVisibile=_useState4[0],setDrawyerVisible=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];function getDayData(d){var ctr=0;while(ctr<props.alcohol_data.length){if(props.alcohol_data[ctr].date===d.dateString){return props.alcohol_data[ctr].activity_data.alcoholDrinksHad;}ctr++;}return'empty';}function submitNewAlcoholData(e){e.preventDefault();console.log(drinkValue+' '+date);var json={activity_type:\"alcohol\",date:date,activity_data:{alcoholDrinksHad:drinkValue}};console.log(JSON.stringify(json));var url;if(process.env.NODE_ENV=='production')url='prod';else url='http://localhost:3000';axios.post(url+'/Activity/edit',json,{withCredentials:true},{headers:{'Content-Type':'application/json'}}).then(setTimeout(function(){props.updateData();},500));setDrawyerVisible(false);}function handleClickDay(d){console.log(d.dateString);setDrawyerVisible(true);setDate(d.dateString);}return _jsxs(\"div\",{children:[_jsx(CalendarList,{style:{height:'600px'},dayComponent:function dayComponent(_ref){var date=_ref.date,state=_ref.state;return _jsx(\"div\",{onClick:function onClick(){handleClickDay(date);},style:{textAlign:'center'},children:getDayData(date)});},theme:{backgroundColor:'#ccc','stylesheet.calendar.main':{dayContainer:{borderBottomWidth:'2px',borderBottomColor:'black',borderTopWidth:'2px',borderTopColor:'black',borderLeftWidth:'1px',borderLeftColor:'black',borderRightWidth:'1px',borderRightColor:'black',flex:1,alignItems:'center',height:'60px'}}},onVisibleMonthsChange:function onVisibleMonthsChange(months){console.log('now these months are visible',months);},pastScrollRange:3,futureScrollRange:2,scrollEnabled:true,showScrollIndicator:true}),_jsxs(Drawer,{isVisible:drawerVisibile,children:[_jsx(\"input\",{type:\"text\",value:drinkValue,onChange:function onChange(e){return setDrinkValue(e.target.value);}}),_jsx(\"button\",{onClick:function onClick(e){submitNewAlcoholData(e);},children:\"Submit\"})]})]});}","map":{"version":3,"sources":["/Users/mikebaker/health_tracker/client/components/AlcoholCalendar.jsx"],"names":["React","useState","Calendar","CalendarList","Agenda","Drawer","axios","AlcoholCalendar","props","drinkValue","setDrinkValue","drawerVisibile","setDrawyerVisible","date","setDate","getDayData","d","ctr","alcohol_data","length","dateString","activity_data","alcoholDrinksHad","submitNewAlcoholData","e","preventDefault","console","log","json","activity_type","JSON","stringify","url","process","env","NODE_ENV","post","withCredentials","headers","then","setTimeout","updateData","handleClickDay","height","state","textAlign","backgroundColor","dayContainer","borderBottomWidth","borderBottomColor","borderTopWidth","borderTopColor","borderLeftWidth","borderLeftColor","borderRightWidth","borderRightColor","flex","alignItems","months","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {Calendar, CalendarList, Agenda} from 'react-native-calendars';\nimport Drawer from \"react-bottom-drawer\";\nimport axios from 'axios';\n\nexport default function AlcoholCalendar(props) {\n\n  const [drinkValue, setDrinkValue] = useState(\"\");\n  const [drawerVisibile, setDrawyerVisible] = useState(false);\n  const [date, setDate] = useState(false);\n\n  function getDayData(d) {   \n  var ctr = 0;\n  while (ctr<props.alcohol_data.length){\n    if(props.alcohol_data[ctr].date===d.dateString){\n      return props.alcohol_data[ctr].activity_data.alcoholDrinksHad;\n    }\n    ctr++;\n  }\n  return 'empty';\n}\n\nfunction submitNewAlcoholData(e){\n  e.preventDefault();\n  console.log(drinkValue+' '+date);\n\n  var json = ({\n    activity_type : \"alcohol\",\n    date : date,\n    activity_data : {\n        alcoholDrinksHad : drinkValue\n    }\n    });\nconsole.log(JSON.stringify(json))\nvar url;\n        if(process.env.NODE_ENV=='production')\n            url='prod';\n        else\n            url='http://localhost:3000'\n  axios.post(url+'/Activity/edit', json,{ withCredentials: true },{\n        headers: {'Content-Type': 'application/json'}})\n      .then(\n        setTimeout(() => {\n          props.updateData()\n       }, 500)\n\n        \n        );\n  setDrawyerVisible(false);\n  \n}\n\n\nfunction handleClickDay(d){\n  console.log(d.dateString)\n  setDrawyerVisible(true);\n  setDate(d.dateString);\n}\n\n      return (\n        <div>\n        <CalendarList\n      style={{height:'600px'}}\n        dayComponent={({date, state}) => {\n          return (\n           \n              <div onClick={() => {handleClickDay(date)}} style={{textAlign: 'center'}}>{getDayData(date)}</div>\n           \n          );\n        }}\n        \n  theme={{\n    backgroundColor: '#ccc',\n    'stylesheet.calendar.main': {\n      dayContainer: {\n        borderBottomWidth:'2px',\n        borderBottomColor:'black',\n        borderTopWidth:'2px',\n        borderTopColor:'black',\n        borderLeftWidth:'1px',\n        borderLeftColor:'black',\n        borderRightWidth:'1px',\n        borderRightColor:'black',\n        flex: 1,\n        alignItems: 'center',\n        height:'60px'\n      \n      }\n    }\n  }}\n\n       \n         // Callback which gets executed when visible months change in scroll view. Default = undefined\n   onVisibleMonthsChange={(months) => {console.log('now these months are visible', months);}}\n   // Max amount of months allowed to scroll to the past. Default = 50\n   pastScrollRange={3}\n   // Max amount of months allowed to scroll to the future. Default = 50\n   futureScrollRange={2}\n   // Enable or disable scrolling of calendar list\n   scrollEnabled={true}\n   // Enable or disable vertical scroll indicator. Default = false\n   showScrollIndicator={true}\n  \n />\n <Drawer\n        isVisible={drawerVisibile}\n        >\n           <input type=\"text\" value={drinkValue} onChange={e => setDrinkValue(e.target.value)} />\n          <button onClick={(e)=>{submitNewAlcoholData(e)}}>Submit</button>\n            </Drawer></div>\n          )\n      }\n\n\n"]},"metadata":{},"sourceType":"module"}