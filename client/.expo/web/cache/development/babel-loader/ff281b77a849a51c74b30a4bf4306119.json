{"ast":null,"code":"import React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SubmitPhone(props) {\n  function submitPhone() {\n    var _this = this;\n\n    var jsonPhone = {\n      phone: this.state.phone\n    };\n    var url;\n    if (process.env.NODE_ENV == 'production') url = '';else url = 'http://localhost:3000';\n    axios.post(url + '/sendOTP', jsonPhone, {\n      withCredentials: true\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      var res_data = res.data;\n\n      _this.setState({\n        hash: res_data.hash\n      });\n\n      if (res_data.otp) _this.setState({\n        value: res_data.otp\n      });\n      console.log(res_data);\n    });\n  }\n\n  function handleChange(e) {\n    this.setState({\n      phone: e.target.value\n    });\n  }\n\n  return _jsxs(\"div\", {\n    children: [\" \", _jsx(\"input\", {\n      type: \"phone\",\n      value: this.state.value,\n      onChange: this.handleChange.bind(this)\n    }), _jsx(\"button\", {\n      onClick: function onClick(e) {\n        return submitPhone;\n      },\n      children: \"Submit phone number\"\n    })]\n  });\n}","map":{"version":3,"sources":["/Users/mikebaker/health_tracker/client/components/SubmitPhone.jsx"],"names":["React","useState","axios","SubmitPhone","props","submitPhone","jsonPhone","phone","state","url","process","env","NODE_ENV","post","withCredentials","headers","then","res","res_data","data","setState","hash","otp","value","console","log","handleChange","e","target","bind"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAIzC,WAASC,WAAT,GAAsB;AAAA;;AAChB,QAAIC,SAAS,GAAI;AACbC,MAAAA,KAAK,EAAC,KAAKC,KAAL,CAAWD;AADJ,KAAjB;AAGI,QAAIE,GAAJ;AACA,QAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAsB,YAAzB,EACIH,GAAG,GAAC,EAAJ,CADJ,KAGIA,GAAG,GAAC,uBAAJ;AAENP,IAAAA,KAAK,CAACW,IAAN,CAAWJ,GAAG,GAAC,UAAf,EAA0BH,SAA1B,EAAoC;AAAEQ,MAAAA,eAAe,EAAE;AAAnB,KAApC,EAA+D;AAC7DC,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB;AADoD,KAA/D,EAECC,IAFD,CAEM,UAAAC,GAAG,EAAI;AACX,UAAMC,QAAQ,GAAGD,GAAG,CAACE,IAArB;;AACA,MAAA,KAAI,CAACC,QAAL,CAAc;AAACC,QAAAA,IAAI,EAACH,QAAQ,CAACG;AAAf,OAAd;;AACA,UAAIH,QAAQ,CAACI,GAAb,EACI,KAAI,CAACF,QAAL,CAAc;AAACG,QAAAA,KAAK,EAACL,QAAQ,CAACI;AAAhB,OAAd;AACJE,MAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AACD,KARD;AAUH;;AAGN,WAASQ,YAAT,CAAsBC,CAAtB,EAAwB;AACrB,SAAKP,QAAL,CAAc;AAACb,MAAAA,KAAK,EAACoB,CAAC,CAACC,MAAF,CAASL;AAAhB,KAAd;AACH;;AAGD,SAAO;AAAA,oBAAM;AACT,MAAA,IAAI,EAAC,OADI;AAET,MAAA,KAAK,EAAE,KAAKf,KAAL,CAAWe,KAFT;AAGT,MAAA,QAAQ,EAAE,KAAKG,YAAL,CAAkBG,IAAlB,CAAuB,IAAvB;AAHD,MAAN,EAMN;AAAQ,MAAA,OAAO,EAAE,iBAAAF,CAAC;AAAA,eAAEtB,WAAF;AAAA,OAAlB;AAAA;AAAA,MANM;AAAA,IAAP;AASC","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nexport default function SubmitPhone(props) {\n\n\n\n  function submitPhone(){\n        var jsonPhone = ({\n            phone:this.state.phone\n            });\n            var url;\n            if(process.env.NODE_ENV=='production')\n                url='';\n            else\n                url='http://localhost:3000'\n                \n          axios.post(url+'/sendOTP',jsonPhone,{ withCredentials: true }, {\n            headers: {'Content-Type': 'application/json'}})\n          .then(res => {\n            const res_data = res.data;\n            this.setState({hash:res_data.hash})\n            if (res_data.otp)\n                this.setState({value:res_data.otp})\n            console.log(res_data)\n          })\n    \n      } \n\n\n function handleChange(e){\n    this.setState({phone:e.target.value})\n}\n\n\nreturn(<div> <input\n    type=\"phone\"\n    value={this.state.value}\n    onChange={this.handleChange.bind(this)}\n />\n\n <button onClick={e=>submitPhone}>Submit phone number</button>\n </div>);\n\n}\n"]},"metadata":{},"sourceType":"module"}