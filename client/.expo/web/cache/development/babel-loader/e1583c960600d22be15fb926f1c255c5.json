{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-modal\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CalModals(props) {\n  var _useState = useState('33'),\n      _useState2 = _slicedToArray(_useState, 2),\n      drinkValue = _useState2[0],\n      setDrinkValue = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      workOut = _useState4[0],\n      setWorkOut = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      followedDiet = _useState6[0],\n      setFollowedDiet = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      fastEnded = _useState8[0],\n      setFastEnded = _useState8[1];\n\n  var styles = StyleSheet.create({\n    centeredView: {\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      marginTop: 22\n    },\n    modalView: {\n      margin: 20,\n      backgroundColor: \"white\",\n      borderRadius: 20,\n      padding: 35,\n      alignItems: \"center\",\n      shadowColor: \"#000\",\n      shadowOffset: {\n        width: 0,\n        height: 2\n      },\n      shadowOpacity: 0.25,\n      shadowRadius: 4,\n      elevation: 5\n    },\n    button: {\n      borderRadius: 20,\n      padding: 10,\n      elevation: 2\n    },\n    buttonOpen: {\n      backgroundColor: \"#F194FF\"\n    },\n    buttonClose: {\n      backgroundColor: \"#2196F3\"\n    },\n    textStyle: {\n      color: \"white\",\n      fontWeight: \"bold\",\n      textAlign: \"center\"\n    },\n    modalText: {\n      marginBottom: 15,\n      textAlign: \"center\"\n    }\n  });\n\n  function submitNewData(date) {\n    if (props.calType === 'alcohol') var json = {\n      activity_type: \"alcohol\",\n      date: date,\n      activity_data: {\n        alcoholDrinksHad: drinkValue\n      }\n    };else if (props.calType === 'diet') var json = {\n      activity_type: \"diet\",\n      date: date,\n      activity_data: {\n        followedDiet: followedDiet,\n        fastEnded: fastEnded\n      }\n    };else if (props.calType === 'workout') var json = {\n      activity_type: \"workout\",\n      date: date,\n      activity_data: {\n        workOut: workOut\n      }\n    };\n    console.log(JSON.stringify(json));\n    var url;\n    if (process.env.NODE_ENV == 'production') url = '';else url = 'http://localhost:3000';\n    axios.post(url + '/Activity/edit', json, {\n      withCredentials: true\n    }, {\n      headers: {\n        'Content-Type': 'application/json',\n        \"Access-Control-Allow-Origin\": \"*\"\n      }\n    }).then(setTimeout(function () {\n      props.updateData();\n    }, 500)).catch(function (error) {\n      console.log(error);\n    });\n    props.closeModal();\n  }\n\n  function getCurrentValue(calendarType, d) {\n    if (calendarType === 'alcohol' && props.acct_activity_data) {\n      var ctr = 0;\n\n      while (ctr < props.acct_activity_data.length) {\n        if (props.acct_activity_data[ctr].date === d) {\n          return props.acct_activity_data[ctr].activity_data.alcoholDrinksHad;\n        }\n\n        ctr++;\n      }\n\n      return null;\n    } else if (calendarType === 'diet' && props.acct_activity_data) {\n      var ctr = 0;\n      if (props.acct_activity_data.length) while (ctr < props.acct_activity_data.length) {\n        if (props.acct_activity_data[ctr].date === d) {\n          return props.acct_activity_data[ctr].activity_data.followedDiet + props.acct_activity_data[ctr].activity_data.fastEnded;\n        }\n\n        ctr++;\n      }\n      return null;\n    } else if (calendarType === 'workout' && props.acct_activity_data) {\n      var ctr = 0;\n      if (props.acct_activity_data.length) while (ctr < props.acct_activity_data.length) {\n        if (props.acct_activity_data[ctr].date === d) {\n          return props.acct_activity_data[ctr].activity_data.workOut;\n        }\n\n        ctr++;\n      }\n      return null;\n    }\n  }\n\n  function getModalQuestions(calType) {\n    if (calType === 'alcohol') {\n      return _jsxs(View, {\n        style: styles.modalView,\n        children: [_jsxs(\"form\", {\n          onChange: function onChange(e) {\n            return setDrinkValue(e.target.value);\n          },\n          children: [_jsx(\"div\", {\n            children: \"Number of drinks\"\n          }), _jsx(\"input\", {\n            type: \"text\",\n            value: drinkValue,\n            onChange: function onChange(e) {\n              return setDrinkValue(e.target.value);\n            }\n          })]\n        }), _jsx(Pressable, {\n          style: [styles.button, styles.buttonClose],\n          onPress: function onPress() {\n            return submitNewData(props.clickedDate);\n          },\n          children: _jsx(Text, {\n            style: styles.textStyle,\n            children: \"Save\"\n          })\n        })]\n      });\n    } else if (calType === 'diet') {\n      return _jsxs(View, {\n        style: styles.modalView,\n        children: [_jsxs(\"form\", {\n          onChange: function onChange(e) {\n            return setFollowedDiet(e.target.value);\n          },\n          children: [_jsx(\"div\", {\n            children: \"Followed diet?\"\n          }), _jsx(\"input\", {\n            type: \"radio\",\n            value: \"true\",\n            name: \"followedDiet\"\n          }), \" True\", _jsx(\"input\", {\n            type: \"radio\",\n            value: \"false\",\n            name: \"followedDiet\"\n          }), \" False\"]\n        }), _jsx(\"div\", {\n          children: \"Ended Fast?\"\n        }), _jsxs(\"form\", {\n          onChange: function onChange(e) {\n            return setFastEnded(e.target.value);\n          },\n          children: [_jsx(\"input\", {\n            type: \"radio\",\n            value: \"true\",\n            name: \"followedDiet\"\n          }), \" True\", _jsx(\"input\", {\n            type: \"radio\",\n            value: \"false\",\n            name: \"followedDiet\"\n          }), \" False\"]\n        }), _jsx(Pressable, {\n          style: [styles.button, styles.buttonClose],\n          onPress: function onPress() {\n            return submitNewData(props.clickedDate);\n          },\n          children: _jsx(Text, {\n            style: styles.textStyle,\n            children: \"Save\"\n          })\n        })]\n      });\n    } else if (calType === 'workout') {\n      return _jsxs(View, {\n        style: styles.modalView,\n        children: [_jsxs(\"form\", {\n          onChange: function onChange(e) {\n            return setWorkOut(e.target.value);\n          },\n          children: [_jsx(\"div\", {\n            children: \"Followed diet?\"\n          }), _jsx(\"input\", {\n            type: \"radio\",\n            value: \"cardio\",\n            name: \"followedDiet\"\n          }), \" Cardio\", _jsx(\"input\", {\n            type: \"radio\",\n            value: \"strength\",\n            name: \"followedDiet\"\n          }), \" Strength\"]\n        }), _jsx(Pressable, {\n          style: [styles.button, styles.buttonClose],\n          onPress: function onPress() {\n            return submitNewData(props.clickedDate);\n          },\n          children: _jsx(Text, {\n            style: styles.textStyle,\n            children: \"Save\"\n          })\n        })]\n      });\n    }\n  }\n\n  return _jsx(Modal, {\n    animationType: \"slide\",\n    onBackdropPress: function onBackdropPress() {\n      props.closeModal();\n    },\n    transparent: true,\n    visible: props.modalVisible,\n    onRequestClose: function onRequestClose() {\n      props.closeModal();\n    },\n    children: _jsx(View, {\n      style: styles.centeredView,\n      children: getModalQuestions(props.calType)\n    })\n  });\n}","map":{"version":3,"sources":["/Users/mikebaker/health_tracker/client/components/CalModals.jsx"],"names":["React","useState","axios","Modal","CalModals","props","drinkValue","setDrinkValue","workOut","setWorkOut","followedDiet","setFollowedDiet","fastEnded","setFastEnded","styles","StyleSheet","create","centeredView","justifyContent","alignItems","marginTop","modalView","margin","backgroundColor","borderRadius","padding","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","button","buttonOpen","buttonClose","textStyle","color","fontWeight","textAlign","modalText","marginBottom","submitNewData","date","calType","json","activity_type","activity_data","alcoholDrinksHad","console","log","JSON","stringify","url","process","env","NODE_ENV","post","withCredentials","headers","then","setTimeout","updateData","catch","error","closeModal","getCurrentValue","calendarType","d","acct_activity_data","ctr","length","getModalQuestions","e","target","value","clickedDate","modalVisible"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { Alert, StyleSheet, Text, Pressable, View } from \"react-native\";\nimport Modal from \"react-native-modal\";\n\n\nexport default function CalModals(props) {\n\n  //alcohol\n  const [drinkValue, setDrinkValue] = useState('33');\n\n  //workout\n  const [workOut, setWorkOut] = useState('');\n\n  //diet\n  const [followedDiet, setFollowedDiet] = useState(true);\n  const [fastEnded, setFastEnded] = useState(false);\n\n  const styles = StyleSheet.create({\n    centeredView: {\n\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      marginTop: 22\n    },\n    modalView: {\n      margin: 20,\n      backgroundColor: \"white\",\n      borderRadius: 20,\n      padding: 35,\n      alignItems: \"center\",\n      shadowColor: \"#000\",\n      shadowOffset: {\n        width: 0,\n        height: 2\n      },\n      shadowOpacity: 0.25,\n      shadowRadius: 4,\n      elevation: 5\n    },\n    button: {\n      borderRadius: 20,\n      padding: 10,\n      elevation: 2\n    },\n    buttonOpen: {\n      backgroundColor: \"#F194FF\",\n    },\n    buttonClose: {\n      backgroundColor: \"#2196F3\",\n    },\n    textStyle: {\n      color: \"white\",\n      fontWeight: \"bold\",\n      textAlign: \"center\"\n    },\n    modalText: {\n      marginBottom: 15,\n      textAlign: \"center\"\n    }\n  });\n\n  function submitNewData(date) {\n    if(props.calType==='alcohol')\n        var json = ({\n          activity_type: \"alcohol\",\n          date: date,\n          activity_data: {\n            alcoholDrinksHad: drinkValue\n          }\n        });\n    else if(props.calType==='diet')\n        var json = ({\n          activity_type : \"diet\",\n          date : date,\n          activity_data : {\n              followedDiet : followedDiet,\n              fastEnded:fastEnded\n          }\n          });\n    else if(props.calType==='workout')\n        var json = ({\n          activity_type : \"workout\",\n          date : date,\n          activity_data : {\n              workOut : workOut\n          }\n          });\n\n    console.log(JSON.stringify(json))\n    var url;\n    if (process.env.NODE_ENV == 'production')\n      url = '';\n    else\n      url = 'http://localhost:3000'\n    axios.post(url + '/Activity/edit', json, { withCredentials: true }, {\n      headers: { 'Content-Type': 'application/json',\"Access-Control-Allow-Origin\": \"*\" }\n    })\n      .then(\n        setTimeout(() => {\n          props.updateData()\n        }, 500)\n      ).catch(function (error) {\n        console.log(error);\n      });\n    props.closeModal();\n\n  }\n\n  \n\n  function getCurrentValue(calendarType,d) {  \n      if(calendarType==='alcohol' && props.acct_activity_data) {\n      var ctr = 0;\n    \n      while (ctr < props.acct_activity_data.length) {\n        if (props.acct_activity_data[ctr].date === d) {\n          return props.acct_activity_data[ctr].activity_data.alcoholDrinksHad;\n        }\n        ctr++;\n      }\n      return null;\n    }\n  \n    else if(calendarType==='diet' && props.acct_activity_data) {\n      var ctr = 0;\n      if( props.acct_activity_data.length)\n      while (ctr<props.acct_activity_data.length){\n          if(props.acct_activity_data[ctr].date===d){\n            return props.acct_activity_data[ctr].activity_data.followedDiet+props.acct_activity_data[ctr].activity_data.fastEnded;   \n              \n          \n          }\n          ctr++;\n      }\n      return null;\n    }\n  \n    else if(calendarType==='workout' && props.acct_activity_data) {\n      var ctr = 0;\n      if( props.acct_activity_data.length)\n       while (ctr<props.acct_activity_data.length){\n      if(props.acct_activity_data[ctr].date===d){\n        return props.acct_activity_data[ctr].activity_data.workOut;\n      }\n      ctr++;\n    }\n    return null;\n    }\n  \n  }\n\n  function getModalQuestions(calType){\n    if(calType==='alcohol'){\n        return <View style={styles.modalView}>\n        <form onChange={e => setDrinkValue(e.target.value)}>\n          <div>Number of drinks</div>\n          <input type=\"text\" value={drinkValue} onChange={e => setDrinkValue(e.target.value)} />\n        </form>\n        <Pressable\n          style={[styles.button, styles.buttonClose]}\n          onPress={() => submitNewData(props.clickedDate)}\n        >\n          <Text style={styles.textStyle}>Save</Text>\n        </Pressable>\n      </View>\n\n    }\n    else if(calType==='diet'){\n      return <View style={styles.modalView}>\n      <form onChange={e=>setFollowedDiet(e.target.value)}>\n          <div>Followed diet?</div>\n            <input type=\"radio\" value=\"true\" name=\"followedDiet\"/> True\n            <input type=\"radio\" value=\"false\" name=\"followedDiet\"/> False\n        </form>\n        <div>Ended Fast?</div>\n        <form onChange={e=>setFastEnded(e.target.value)}>\n            <input type=\"radio\" value=\"true\" name=\"followedDiet\"/> True\n            <input type=\"radio\" value=\"false\" name=\"followedDiet\"/> False\n        </form>\n        <Pressable\n          style={[styles.button, styles.buttonClose]}\n          onPress={() => submitNewData(props.clickedDate)}\n        >\n          <Text style={styles.textStyle}>Save</Text>\n        </Pressable>\n      </View>\n\n    }\n    else if(calType==='workout'){\n      return <View style={styles.modalView}>\n      <form onChange={e=>setWorkOut(e.target.value)}>\n          <div>Followed diet?</div>\n            <input type=\"radio\" value=\"cardio\" name=\"followedDiet\"/> Cardio\n            <input type=\"radio\" value=\"strength\" name=\"followedDiet\"/> Strength\n        </form>\n        <Pressable\n          style={[styles.button, styles.buttonClose]}\n          onPress={() => submitNewData(props.clickedDate)}\n        >\n          <Text style={styles.textStyle}>Save</Text>\n        </Pressable>\n      </View>\n\n    }\n\n\n\n  }\n\n\n      // NOTE: You also need to provide styles, see https://github.com/negomi/react-burger-menu#styling\n      return (\n           <Modal\n        animationType=\"slide\"\n        onBackdropPress={() => { props.closeModal() }}\n        transparent={true}\n        visible={props.modalVisible}\n        onRequestClose={() => {\n          props.closeModal()\n        }}\n\n      >\n        <View style={styles.centeredView}>\n          {getModalQuestions(props.calType)}\n        </View>\n      </Modal>\n      );\n    \n  }\n\n"]},"metadata":{},"sourceType":"module"}