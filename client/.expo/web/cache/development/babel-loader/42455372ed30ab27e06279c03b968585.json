{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport { Calendar, CalendarList, Agenda } from 'react-native-calendars';\nimport axios from 'axios';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-modal\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function EatingCalendar(props) {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      followedDiet = _useState2[0],\n      setFollowedDiet = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      fastEnded = _useState4[0],\n      setFastEnded = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      modalVisible = _useState6[0],\n      setModalVisible = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      date = _useState8[0],\n      setDate = _useState8[1];\n\n  function getDayData(d) {\n    var ctr = 0;\n\n    while (ctr < props.diet_data.length) {\n      if (props.diet_data[ctr].date === d.dateString) {\n        return props.diet_data[ctr].activity_data.followedDiet + props.diet_data[ctr].activity_data.fastEnded;\n      }\n\n      ctr++;\n    }\n\n    return 'empty';\n  }\n\n  function submitNewEatingData() {\n    var json = {\n      activity_type: \"diet\",\n      date: date,\n      activity_data: {\n        followedDiet: followedDiet,\n        fastEnded: fastEnded\n      }\n    };\n    console.log(JSON.stringify(json));\n    var url;\n    if (process.env.NODE_ENV == 'production') url = '';else url = 'http://localhost:3000';\n    axios.post(url + '/Activity/edit', json, {\n      withCredentials: true\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(setTimeout(function () {\n      props.updateData();\n    }, 500));\n    setModalVisible(false);\n  }\n\n  function handleClickDay(d) {\n    setModalVisible(true);\n    setDate(d.dateString);\n  }\n\n  var styles = StyleSheet.create({\n    centeredView: {\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      marginTop: 22\n    },\n    modalView: {\n      margin: 20,\n      backgroundColor: \"white\",\n      borderRadius: 20,\n      padding: 35,\n      alignItems: \"center\",\n      shadowColor: \"#000\",\n      shadowOffset: {\n        width: 0,\n        height: 2\n      },\n      shadowOpacity: 0.25,\n      shadowRadius: 4,\n      elevation: 5\n    },\n    button: {\n      borderRadius: 20,\n      padding: 10,\n      elevation: 2\n    },\n    buttonOpen: {\n      backgroundColor: \"#F194FF\"\n    },\n    buttonClose: {\n      backgroundColor: \"#2196F3\"\n    },\n    textStyle: {\n      color: \"white\",\n      fontWeight: \"bold\",\n      textAlign: \"center\"\n    },\n    modalText: {\n      marginBottom: 15,\n      textAlign: \"center\"\n    }\n  });\n  return _jsxs(\"div\", {\n    children: [_jsx(CalendarList, {\n      style: {\n        height: '600px'\n      },\n      dayComponent: function dayComponent(_ref) {\n        var date = _ref.date,\n            state = _ref.state;\n        return _jsx(\"div\", {\n          onClick: function onClick() {\n            handleClickDay(date);\n          },\n          style: {\n            textAlign: 'center'\n          },\n          children: getDayData(date)\n        });\n      },\n      theme: {\n        backgroundColor: '#ccc',\n        'stylesheet.calendar.main': {\n          dayContainer: {\n            borderBottomWidth: '2px',\n            borderBottomColor: 'black',\n            borderTopWidth: '2px',\n            borderTopColor: 'black',\n            borderLeftWidth: '1px',\n            borderLeftColor: 'black',\n            borderRightWidth: '1px',\n            borderRightColor: 'black',\n            flex: 1,\n            alignItems: 'center',\n            height: '60px'\n          }\n        }\n      },\n      pastScrollRange: 3,\n      futureScrollRange: 2,\n      scrollEnabled: true,\n      showScrollIndicator: true\n    }), _jsx(Modal, {\n      onBackdropPress: function onBackdropPress() {\n        setModalVisible(!modalVisible);\n      },\n      animationType: \"slide\",\n      transparent: true,\n      visible: modalVisible,\n      onRequestClose: function onRequestClose() {\n        Alert.alert(\"Modal has been closed.\");\n        setModalVisible(!modalVisible);\n      },\n      children: _jsx(View, {\n        style: styles.centeredView,\n        children: _jsxs(View, {\n          style: styles.modalView,\n          children: [_jsxs(\"form\", {\n            onChange: function onChange(e) {\n              return setFollowedDiet(e.target.value);\n            },\n            children: [_jsx(\"div\", {\n              children: \"Followed diet?\"\n            }), _jsx(\"input\", {\n              type: \"radio\",\n              value: \"true\",\n              name: \"followedDiet\"\n            }), \" True\", _jsx(\"input\", {\n              type: \"radio\",\n              value: \"false\",\n              name: \"followedDiet\"\n            }), \" False\"]\n          }), _jsx(\"div\", {\n            children: \"Ended Fast?\"\n          }), _jsxs(\"form\", {\n            onChange: function onChange(e) {\n              return setFastEnded(e.target.value);\n            },\n            children: [_jsx(\"input\", {\n              type: \"radio\",\n              value: \"true\",\n              name: \"followedDiet\"\n            }), \" True\", _jsx(\"input\", {\n              type: \"radio\",\n              value: \"false\",\n              name: \"followedDiet\"\n            }), \" False\"]\n          }), _jsx(Pressable, {\n            style: [styles.button, styles.buttonClose],\n            onPress: function onPress() {\n              return submitNewEatingData();\n            },\n            children: _jsx(Text, {\n              style: styles.textStyle,\n              children: \"Save\"\n            })\n          })]\n        })\n      })\n    })]\n  });\n}","map":{"version":3,"sources":["/Users/mikebaker/health_tracker/client/components/EatingCalendar.jsx"],"names":["React","useState","Calendar","CalendarList","Agenda","axios","Modal","EatingCalendar","props","followedDiet","setFollowedDiet","fastEnded","setFastEnded","modalVisible","setModalVisible","date","setDate","getDayData","d","ctr","diet_data","length","dateString","activity_data","submitNewEatingData","json","activity_type","console","log","JSON","stringify","url","process","env","NODE_ENV","post","withCredentials","headers","then","setTimeout","updateData","handleClickDay","styles","StyleSheet","create","centeredView","justifyContent","alignItems","marginTop","modalView","margin","backgroundColor","borderRadius","padding","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","button","buttonOpen","buttonClose","textStyle","color","fontWeight","textAlign","modalText","marginBottom","state","dayContainer","borderBottomWidth","borderBottomColor","borderTopWidth","borderTopColor","borderLeftWidth","borderLeftColor","borderRightWidth","borderRightColor","flex","Alert","alert","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {Calendar, CalendarList, Agenda} from 'react-native-calendars';\nimport axios from 'axios';\nimport { Alert, StyleSheet, Text, Pressable, View } from \"react-native\";\nimport Modal from \"react-native-modal\";\n\nexport default function EatingCalendar(props) {\n\n  const [followedDiet, setFollowedDiet] = useState(true);\n  const [fastEnded, setFastEnded] = useState(false);\n  const [modalVisible, setModalVisible] = useState(false);\n\n  const [date, setDate] = useState(false);\n\n  function getDayData(d) {   \n  var ctr = 0;\n  while (ctr<props.diet_data.length){\n    if(props.diet_data[ctr].date===d.dateString){\n      return props.diet_data[ctr].activity_data.followedDiet+props.diet_data[ctr].activity_data.fastEnded;\n    }\n    ctr++;\n  }\n  return 'empty';\n}\n\nfunction submitNewEatingData(){\n\n // console.log(drinkValue+' '+date);\n\n  var json = ({\n    activity_type : \"diet\",\n    date : date,\n    activity_data : {\n        followedDiet : followedDiet,\n        fastEnded:fastEnded\n    }\n    });\nconsole.log(JSON.stringify(json))\nvar url;\n        if(process.env.NODE_ENV=='production')\n            url='';\n        else\n            url='http://localhost:3000'\n  axios.post(url+'/Activity/edit', json,{ withCredentials: true },{\n        headers: {'Content-Type': 'application/json'}})\n      .then(\n        setTimeout(() => {\n          props.updateData()\n       }, 500)\n\n        \n        );\n        setModalVisible(false);\n  \n}\n\n\nfunction handleClickDay(d){\n\n    setModalVisible(true);\n  setDate(d.dateString);\n}\n\nconst styles = StyleSheet.create({\n    centeredView: {\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      marginTop: 22\n    },\n    modalView: {\n      margin: 20,\n      backgroundColor: \"white\",\n      borderRadius: 20,\n      padding: 35,\n      alignItems: \"center\",\n      shadowColor: \"#000\",\n      shadowOffset: {\n        width: 0,\n        height: 2\n      },\n      shadowOpacity: 0.25,\n      shadowRadius: 4,\n      elevation: 5\n    },\n    button: {\n      borderRadius: 20,\n      padding: 10,\n      elevation: 2\n    },\n    buttonOpen: {\n      backgroundColor: \"#F194FF\",\n    },\n    buttonClose: {\n      backgroundColor: \"#2196F3\",\n    },\n    textStyle: {\n      color: \"white\",\n      fontWeight: \"bold\",\n      textAlign: \"center\"\n    },\n    modalText: {\n      marginBottom: 15,\n      textAlign: \"center\"\n    }\n  });\n\n\n      return (\n        <div>\n        <CalendarList\n      style={{height:'600px'}}\n        dayComponent={({date, state}) => {\n          return (\n           \n              <div onClick={() => {handleClickDay(date)}} style={{textAlign: 'center'}}>{getDayData(date)}</div>\n           \n          );\n        }}\n\n  theme={{\n    backgroundColor: '#ccc',\n    'stylesheet.calendar.main': {\n      dayContainer: {\n        borderBottomWidth:'2px',\n        borderBottomColor:'black',\n        borderTopWidth:'2px',\n        borderTopColor:'black',\n        borderLeftWidth:'1px',\n        borderLeftColor:'black',\n        borderRightWidth:'1px',\n        borderRightColor:'black',\n        flex: 1,\n        alignItems: 'center',\n        height:'60px'\n      \n      }\n    }\n  }}\n\n       \n         // Callback which gets executed when visible months change in scroll view. Default = undefined\n   // Max amount of months allowed to scroll to the past. Default = 50\n   pastScrollRange={3}\n   // Max amount of months allowed to scroll to the future. Default = 50\n   futureScrollRange={2}\n   // Enable or disable scrolling of calendar list\n   scrollEnabled={true}\n   // Enable or disable vertical scroll indicator. Default = false\n   showScrollIndicator={true}\n  \n />\n\n\n\n            <Modal\n        onBackdropPress={() => {setModalVisible(!modalVisible)}}\n        animationType=\"slide\"\n        transparent={true}\n        visible={modalVisible}\n        onRequestClose={() => {\n          Alert.alert(\"Modal has been closed.\");\n          setModalVisible(!modalVisible);\n        }}\n      >\n        <View style={styles.centeredView}>\n          <View style={styles.modalView}>\n          <form onChange={e=>setFollowedDiet(e.target.value)}>\n              <div>Followed diet?</div>\n                <input type=\"radio\" value=\"true\" name=\"followedDiet\"/> True\n                <input type=\"radio\" value=\"false\" name=\"followedDiet\"/> False\n            </form>\n            <div>Ended Fast?</div>\n            <form onChange={e=>setFastEnded(e.target.value)}>\n                <input type=\"radio\" value=\"true\" name=\"followedDiet\"/> True\n                <input type=\"radio\" value=\"false\" name=\"followedDiet\"/> False\n            </form>\n            <Pressable\n              style={[styles.button, styles.buttonClose]}\n              onPress={() => submitNewEatingData()}\n            >\n              <Text style={styles.textStyle}>Save</Text>\n            </Pressable>\n          </View>\n        </View>\n      </Modal>\n            </div>\n          )\n      }\n\n\n"]},"metadata":{},"sourceType":"module"}