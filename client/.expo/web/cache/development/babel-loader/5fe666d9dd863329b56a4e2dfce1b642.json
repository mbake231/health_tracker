{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport { Calendar, CalendarList, Agenda } from 'react-native-calendars';\nimport axios from 'axios';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-modal\";\nimport AlcoholDay from \"./AlcoholDay\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function AlcoholCalendar(props) {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      drinkValue = _useState2[0],\n      setDrinkValue = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modalVisible = _useState4[0],\n      setModalVisible = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      date = _useState6[0],\n      setDate = _useState6[1];\n\n  function getDayData(d) {\n    var ctr = 0;\n\n    while (ctr < props.alcohol_data.length) {\n      if (props.alcohol_data[ctr].date === d.dateString) {\n        return props.alcohol_data[ctr].activity_data.alcoholDrinksHad;\n      }\n\n      ctr++;\n    }\n\n    return 'empty';\n  }\n\n  var styles = StyleSheet.create({\n    centeredView: {\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      marginTop: 22\n    },\n    modalView: {\n      margin: 20,\n      backgroundColor: \"white\",\n      borderRadius: 20,\n      padding: 35,\n      alignItems: \"center\",\n      shadowColor: \"#000\",\n      shadowOffset: {\n        width: 0,\n        height: 2\n      },\n      shadowOpacity: 0.25,\n      shadowRadius: 4,\n      elevation: 5\n    },\n    button: {\n      borderRadius: 20,\n      padding: 10,\n      elevation: 2\n    },\n    buttonOpen: {\n      backgroundColor: \"#F194FF\"\n    },\n    buttonClose: {\n      backgroundColor: \"#2196F3\"\n    },\n    textStyle: {\n      color: \"white\",\n      fontWeight: \"bold\",\n      textAlign: \"center\"\n    },\n    modalText: {\n      marginBottom: 15,\n      textAlign: \"center\"\n    }\n  });\n\n  function submitNewAlcoholData() {\n    var json = {\n      activity_type: \"alcohol\",\n      date: date,\n      activity_data: {\n        alcoholDrinksHad: drinkValue\n      }\n    };\n    console.log(JSON.stringify(json));\n    var url;\n    if (process.env.NODE_ENV == 'production') url = '';else url = 'http://localhost:3000';\n    axios.post(url + '/Activity/edit', json, {\n      withCredentials: true\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(setTimeout(function () {\n      props.updateData();\n    }, 500));\n    setModalVisible(false);\n  }\n\n  function handleClickDay(d) {\n    setModalVisible(true);\n    setDate(d.dateString);\n  }\n\n  return _jsxs(\"div\", {\n    children: [_jsx(CalendarList, {\n      style: {\n        height: '600px'\n      },\n      dayComponent: function dayComponent(_ref) {\n        var date = _ref.date,\n            state = _ref.state;\n        return _jsx(\"div\", {\n          style: {\n            height: 'inherit',\n            width: '100%'\n          },\n          children: getDayData(date) === 'empty' ? _jsx(View, {\n            style: {\n              height: '99%',\n              width: '99%'\n            },\n            children: _jsx(\"div\", {\n              onClick: function onClick() {\n                handleClickDay(date);\n              },\n              style: {\n                height: '100%',\n                width: '100%',\n                backgroundColor: '#ccc'\n              }\n            })\n          }) : _jsx(\"div\", {\n            onClick: function onClick() {\n              handleClickDay(date);\n            },\n            style: {\n              display: 'flex',\n              margin: 'auto',\n              justifyContent: 'center',\n              paddingTop: '15px'\n            },\n            children: _jsx(AlcoholDay, {\n              dayDate: getDayData(date)\n            })\n          })\n        });\n      },\n      theme: {\n        backgroundColor: '#ccc',\n        'stylesheet.calendar.main': {\n          dayContainer: {\n            borderBottomWidth: '2px',\n            borderBottomColor: 'black',\n            borderTopWidth: '2px',\n            borderTopColor: 'black',\n            borderLeftWidth: '1px',\n            borderLeftColor: 'black',\n            borderRightWidth: '1px',\n            borderRightColor: 'black',\n            flex: 1,\n            alignItems: 'center',\n            height: '60px'\n          }\n        }\n      },\n      pastScrollRange: 0,\n      futureScrollRange: 4,\n      scrollEnabled: true,\n      showScrollIndicator: true\n    }), _jsx(Modal, {\n      animationType: \"slide\",\n      onBackdropPress: function onBackdropPress() {\n        setModalVisible(!modalVisible);\n      },\n      transparent: true,\n      visible: modalVisible,\n      onRequestClose: function onRequestClose() {\n        Alert.alert(\"Modal has been closed.\");\n        setModalVisible(!modalVisible);\n      },\n      children: _jsx(View, {\n        style: styles.centeredView,\n        children: _jsxs(View, {\n          style: styles.modalView,\n          children: [_jsxs(\"form\", {\n            onChange: function onChange(e) {\n              return setDrinkValue(e.target.value);\n            },\n            children: [_jsx(\"div\", {\n              children: \"Number of drinks\"\n            }), _jsx(\"input\", {\n              type: \"text\",\n              value: drinkValue,\n              onChange: function onChange(e) {\n                return setDrinkValue(e.target.value);\n              }\n            })]\n          }), _jsx(Pressable, {\n            style: [styles.button, styles.buttonClose],\n            onPress: function onPress() {\n              return submitNewAlcoholData();\n            },\n            children: _jsx(Text, {\n              style: styles.textStyle,\n              children: \"Save\"\n            })\n          })]\n        })\n      })\n    })]\n  });\n}","map":{"version":3,"sources":["/Users/mikebaker/health_tracker/client/components/AlcoholCalendar.jsx"],"names":["React","useState","useEffect","Calendar","CalendarList","Agenda","axios","Modal","AlcoholDay","AlcoholCalendar","props","drinkValue","setDrinkValue","modalVisible","setModalVisible","date","setDate","getDayData","d","ctr","alcohol_data","length","dateString","activity_data","alcoholDrinksHad","styles","StyleSheet","create","centeredView","justifyContent","alignItems","marginTop","modalView","margin","backgroundColor","borderRadius","padding","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","button","buttonOpen","buttonClose","textStyle","color","fontWeight","textAlign","modalText","marginBottom","submitNewAlcoholData","json","activity_type","console","log","JSON","stringify","url","process","env","NODE_ENV","post","withCredentials","headers","then","setTimeout","updateData","handleClickDay","state","display","paddingTop","dayContainer","borderBottomWidth","borderBottomColor","borderTopWidth","borderTopColor","borderLeftWidth","borderLeftColor","borderRightWidth","borderRightColor","flex","Alert","alert","e","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,QAAT,EAAmBC,YAAnB,EAAiCC,MAAjC,QAA+C,wBAA/C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;;;AAEA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,UAAP;;;AACA,eAAe,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAG7C,kBAAoCT,QAAQ,CAAC,EAAD,CAA5C;AAAA;AAAA,MAAOU,UAAP;AAAA,MAAmBC,aAAnB;;AACA,mBAAwCX,QAAQ,CAAC,KAAD,CAAhD;AAAA;AAAA,MAAOY,YAAP;AAAA,MAAqBC,eAArB;;AACA,mBAAwBb,QAAQ,CAAC,KAAD,CAAhC;AAAA;AAAA,MAAOc,IAAP;AAAA,MAAaC,OAAb;;AAEA,WAASC,UAAT,CAAoBC,CAApB,EAAuB;AACrB,QAAIC,GAAG,GAAG,CAAV;;AACA,WAAOA,GAAG,GAAGT,KAAK,CAACU,YAAN,CAAmBC,MAAhC,EAAwC;AACtC,UAAIX,KAAK,CAACU,YAAN,CAAmBD,GAAnB,EAAwBJ,IAAxB,KAAiCG,CAAC,CAACI,UAAvC,EAAmD;AACjD,eAAOZ,KAAK,CAACU,YAAN,CAAmBD,GAAnB,EAAwBI,aAAxB,CAAsCC,gBAA7C;AACD;;AACDL,MAAAA,GAAG;AACJ;;AACD,WAAO,OAAP;AACD;;AAGD,MAAMM,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;AAC/BC,IAAAA,YAAY,EAAE;AAEZC,MAAAA,cAAc,EAAE,QAFJ;AAGZC,MAAAA,UAAU,EAAE,QAHA;AAIZC,MAAAA,SAAS,EAAE;AAJC,KADiB;AAO/BC,IAAAA,SAAS,EAAE;AACTC,MAAAA,MAAM,EAAE,EADC;AAETC,MAAAA,eAAe,EAAE,OAFR;AAGTC,MAAAA,YAAY,EAAE,EAHL;AAITC,MAAAA,OAAO,EAAE,EAJA;AAKTN,MAAAA,UAAU,EAAE,QALH;AAMTO,MAAAA,WAAW,EAAE,MANJ;AAOTC,MAAAA,YAAY,EAAE;AACZC,QAAAA,KAAK,EAAE,CADK;AAEZC,QAAAA,MAAM,EAAE;AAFI,OAPL;AAWTC,MAAAA,aAAa,EAAE,IAXN;AAYTC,MAAAA,YAAY,EAAE,CAZL;AAaTC,MAAAA,SAAS,EAAE;AAbF,KAPoB;AAsB/BC,IAAAA,MAAM,EAAE;AACNT,MAAAA,YAAY,EAAE,EADR;AAENC,MAAAA,OAAO,EAAE,EAFH;AAGNO,MAAAA,SAAS,EAAE;AAHL,KAtBuB;AA2B/BE,IAAAA,UAAU,EAAE;AACVX,MAAAA,eAAe,EAAE;AADP,KA3BmB;AA8B/BY,IAAAA,WAAW,EAAE;AACXZ,MAAAA,eAAe,EAAE;AADN,KA9BkB;AAiC/Ba,IAAAA,SAAS,EAAE;AACTC,MAAAA,KAAK,EAAE,OADE;AAETC,MAAAA,UAAU,EAAE,MAFH;AAGTC,MAAAA,SAAS,EAAE;AAHF,KAjCoB;AAsC/BC,IAAAA,SAAS,EAAE;AACTC,MAAAA,YAAY,EAAE,EADL;AAETF,MAAAA,SAAS,EAAE;AAFF;AAtCoB,GAAlB,CAAf;;AA6CA,WAASG,oBAAT,GAAgC;AAC9B,QAAIC,IAAI,GAAI;AACVC,MAAAA,aAAa,EAAE,SADL;AAEVxC,MAAAA,IAAI,EAAEA,IAFI;AAGVQ,MAAAA,aAAa,EAAE;AACbC,QAAAA,gBAAgB,EAAEb;AADL;AAHL,KAAZ;AAOA6C,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAZ;AACA,QAAIM,GAAJ;AACA,QAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,YAA5B,EACEH,GAAG,GAAG,EAAN,CADF,KAGEA,GAAG,GAAG,uBAAN;AACFtD,IAAAA,KAAK,CAAC0D,IAAN,CAAWJ,GAAG,GAAG,gBAAjB,EAAmCN,IAAnC,EAAyC;AAAEW,MAAAA,eAAe,EAAE;AAAnB,KAAzC,EAAoE;AAClEC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AADyD,KAApE,EAGGC,IAHH,CAIIC,UAAU,CAAC,YAAM;AACf1D,MAAAA,KAAK,CAAC2D,UAAN;AACD,KAFS,EAEP,GAFO,CAJd;AAUAvD,IAAAA,eAAe,CAAC,KAAD,CAAf;AAED;;AAID,WAASwD,cAAT,CAAwBpD,CAAxB,EAA2B;AACzBJ,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAE,IAAAA,OAAO,CAACE,CAAC,CAACI,UAAH,CAAP;AACD;;AAED,SACE;AAAA,eACE,KAAC,YAAD;AACE,MAAA,KAAK,EAAE;AAAEkB,QAAAA,MAAM,EAAE;AAAV,OADT;AAEE,MAAA,YAAY,EAAE,4BAAqB;AAAA,YAAlBzB,IAAkB,QAAlBA,IAAkB;AAAA,YAAZwD,KAAY,QAAZA,KAAY;AACjC,eACE;AAAK,UAAA,KAAK,EAAE;AAAE/B,YAAAA,MAAM,EAAE,SAAV;AAAqBD,YAAAA,KAAK,EAAE;AAA5B,WAAZ;AAAA,oBAEItB,UAAU,CAACF,IAAD,CAAV,KAAqB,OAArB,GACE,KAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEyB,cAAAA,MAAM,EAAE,KAAV;AAAiBD,cAAAA,KAAK,EAAE;AAAxB,aAAb;AAAA,sBACE;AAAK,cAAA,OAAO,EAAE,mBAAM;AAAE+B,gBAAAA,cAAc,CAACvD,IAAD,CAAd;AAAsB,eAA5C;AAA8C,cAAA,KAAK,EAAE;AAAEyB,gBAAAA,MAAM,EAAE,MAAV;AAAkBD,gBAAAA,KAAK,EAAE,MAAzB;AAAiCL,gBAAAA,eAAe,EAAE;AAAlD;AAArD;AADF,YADF,GAKE;AAAK,YAAA,OAAO,EAAE,mBAAM;AAAEoC,cAAAA,cAAc,CAACvD,IAAD,CAAd;AAAsB,aAA5C;AAA8C,YAAA,KAAK,EAAE;AAAEyD,cAAAA,OAAO,EAAE,MAAX;AAAmBvC,cAAAA,MAAM,EAAE,MAA3B;AAAmCJ,cAAAA,cAAc,EAAE,QAAnD;AAA6D4C,cAAAA,UAAU,EAAE;AAAzE,aAArD;AAAA,sBACI,KAAC,UAAD;AAAY,cAAA,OAAO,EAAExD,UAAU,CAACF,IAAD;AAA/B;AADJ;AAPN,UADF;AAcD,OAjBH;AAmBE,MAAA,KAAK,EAAE;AACLmB,QAAAA,eAAe,EAAE,MADZ;AAEL,oCAA4B;AAC1BwC,UAAAA,YAAY,EAAE;AACZC,YAAAA,iBAAiB,EAAE,KADP;AAEZC,YAAAA,iBAAiB,EAAE,OAFP;AAGZC,YAAAA,cAAc,EAAE,KAHJ;AAIZC,YAAAA,cAAc,EAAE,OAJJ;AAKZC,YAAAA,eAAe,EAAE,KALL;AAMZC,YAAAA,eAAe,EAAE,OANL;AAOZC,YAAAA,gBAAgB,EAAE,KAPN;AAQZC,YAAAA,gBAAgB,EAAE,OARN;AASZC,YAAAA,IAAI,EAAE,CATM;AAUZrD,YAAAA,UAAU,EAAE,QAVA;AAWZU,YAAAA,MAAM,EAAE;AAXI;AADY;AAFvB,OAnBT;AAyCE,MAAA,eAAe,EAAE,CAzCnB;AA2CE,MAAA,iBAAiB,EAAE,CA3CrB;AA6CE,MAAA,aAAa,EAAE,IA7CjB;AA+CE,MAAA,mBAAmB,EAAE;AA/CvB,MADF,EAoDE,KAAC,KAAD;AACE,MAAA,aAAa,EAAC,OADhB;AAEE,MAAA,eAAe,EAAE,2BAAM;AAAE1B,QAAAA,eAAe,CAAC,CAACD,YAAF,CAAf;AAAgC,OAF3D;AAGE,MAAA,WAAW,EAAE,IAHf;AAIE,MAAA,OAAO,EAAEA,YAJX;AAKE,MAAA,cAAc,EAAE,0BAAM;AACpBuE,QAAAA,KAAK,CAACC,KAAN,CAAY,wBAAZ;AACAvE,QAAAA,eAAe,CAAC,CAACD,YAAF,CAAf;AACD,OARH;AAAA,gBAWE,KAAC,IAAD;AAAM,QAAA,KAAK,EAAEY,MAAM,CAACG,YAApB;AAAA,kBACE,MAAC,IAAD;AAAM,UAAA,KAAK,EAAEH,MAAM,CAACO,SAApB;AAAA,qBACE;AAAM,YAAA,QAAQ,EAAE,kBAAAsD,CAAC;AAAA,qBAAI1E,aAAa,CAAC0E,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB;AAAA,aAAjB;AAAA,uBACE;AAAA;AAAA,cADF,EAEE;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,KAAK,EAAE7E,UAA1B;AAAsC,cAAA,QAAQ,EAAE,kBAAA2E,CAAC;AAAA,uBAAI1E,aAAa,CAAC0E,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB;AAAA;AAAjD,cAFF;AAAA,YADF,EAKE,KAAC,SAAD;AACE,YAAA,KAAK,EAAE,CAAC/D,MAAM,CAACmB,MAAR,EAAgBnB,MAAM,CAACqB,WAAvB,CADT;AAEE,YAAA,OAAO,EAAE;AAAA,qBAAMO,oBAAoB,EAA1B;AAAA,aAFX;AAAA,sBAIE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAE5B,MAAM,CAACsB,SAApB;AAAA;AAAA;AAJF,YALF;AAAA;AADF;AAXF,MApDF;AAAA,IADF;AAmFD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Calendar, CalendarList, Agenda } from 'react-native-calendars';\nimport axios from 'axios';\nimport { Alert, StyleSheet, Text, Pressable, View } from \"react-native\";\nimport Modal from \"react-native-modal\";\nimport AlcoholDay from './AlcoholDay';\nexport default function AlcoholCalendar(props) {\n\n\n  const [drinkValue, setDrinkValue] = useState(\"\");\n  const [modalVisible, setModalVisible] = useState(false);\n  const [date, setDate] = useState(false);\n\n  function getDayData(d) {\n    var ctr = 0;\n    while (ctr < props.alcohol_data.length) {\n      if (props.alcohol_data[ctr].date === d.dateString) {\n        return props.alcohol_data[ctr].activity_data.alcoholDrinksHad;\n      }\n      ctr++;\n    }\n    return 'empty';\n  }\n\n\n  const styles = StyleSheet.create({\n    centeredView: {\n\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      marginTop: 22\n    },\n    modalView: {\n      margin: 20,\n      backgroundColor: \"white\",\n      borderRadius: 20,\n      padding: 35,\n      alignItems: \"center\",\n      shadowColor: \"#000\",\n      shadowOffset: {\n        width: 0,\n        height: 2\n      },\n      shadowOpacity: 0.25,\n      shadowRadius: 4,\n      elevation: 5\n    },\n    button: {\n      borderRadius: 20,\n      padding: 10,\n      elevation: 2\n    },\n    buttonOpen: {\n      backgroundColor: \"#F194FF\",\n    },\n    buttonClose: {\n      backgroundColor: \"#2196F3\",\n    },\n    textStyle: {\n      color: \"white\",\n      fontWeight: \"bold\",\n      textAlign: \"center\"\n    },\n    modalText: {\n      marginBottom: 15,\n      textAlign: \"center\"\n    }\n  });\n\n\n  function submitNewAlcoholData() {\n    var json = ({\n      activity_type: \"alcohol\",\n      date: date,\n      activity_data: {\n        alcoholDrinksHad: drinkValue\n      }\n    });\n    console.log(JSON.stringify(json))\n    var url;\n    if (process.env.NODE_ENV == 'production')\n      url = '';\n    else\n      url = 'http://localhost:3000'\n    axios.post(url + '/Activity/edit', json, { withCredentials: true }, {\n      headers: { 'Content-Type': 'application/json' }\n    })\n      .then(\n        setTimeout(() => {\n          props.updateData()\n        }, 500)\n\n\n      );\n    setModalVisible(false);\n\n  }\n\n\n\n  function handleClickDay(d) {\n    setModalVisible(true);\n    setDate(d.dateString);\n  }\n\n  return (\n    <div>\n      <CalendarList\n        style={{ height: '600px' }}\n        dayComponent={({ date, state }) => {\n          return (\n            <div style={{ height: 'inherit', width: '100%' }}>\n              {(\n                getDayData(date) === 'empty' ?\n                  <View style={{ height: '99%', width: '99%' }} >\n                    <div onClick={() => { handleClickDay(date) }} style={{ height: '100%', width: '100%', backgroundColor: '#ccc' }}></div>\n                  </View>\n                  :\n                  <div onClick={() => { handleClickDay(date) }} style={{ display: 'flex', margin: 'auto', justifyContent: 'center', paddingTop: '15px' }}>\n                      <AlcoholDay dayDate={getDayData(date)}></AlcoholDay>\n                  </div>\n              )}\n            </div>\n          );\n        }}\n\n        theme={{\n          backgroundColor: '#ccc',\n          'stylesheet.calendar.main': {\n            dayContainer: {\n              borderBottomWidth: '2px',\n              borderBottomColor: 'black',\n              borderTopWidth: '2px',\n              borderTopColor: 'black',\n              borderLeftWidth: '1px',\n              borderLeftColor: 'black',\n              borderRightWidth: '1px',\n              borderRightColor: 'black',\n              flex: 1,\n              alignItems: 'center',\n              height: '60px'\n\n            }\n          }\n        }}\n\n        // Callback which gets executed when visible months change in scroll view. Default = undefined\n        // Max amount of months allowed to scroll to the past. Default = 50\n        pastScrollRange={0}\n        // Max amount of months allowed to scroll to the future. Default = 50\n        futureScrollRange={4}\n        // Enable or disable scrolling of calendar list\n        scrollEnabled={true}\n        // Enable or disable vertical scroll indicator. Default = false\n        showScrollIndicator={true}\n\n      />\n\n      <Modal\n        animationType=\"slide\"\n        onBackdropPress={() => { setModalVisible(!modalVisible) }}\n        transparent={true}\n        visible={modalVisible}\n        onRequestClose={() => {\n          Alert.alert(\"Modal has been closed.\");\n          setModalVisible(!modalVisible);\n        }}\n\n      >\n        <View style={styles.centeredView}>\n          <View style={styles.modalView}>\n            <form onChange={e => setDrinkValue(e.target.value)}>\n              <div>Number of drinks</div>\n              <input type=\"text\" value={drinkValue} onChange={e => setDrinkValue(e.target.value)} />\n            </form>\n            <Pressable\n              style={[styles.button, styles.buttonClose]}\n              onPress={() => submitNewAlcoholData()}\n            >\n              <Text style={styles.textStyle}>Save</Text>\n            </Pressable>\n          </View>\n        </View>\n      </Modal>\n\n\n    </div>\n  )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}