{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport PhoneInput from 'react-phone-input-2';\nimport 'react-phone-input-2/lib/style.css';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SubmitPhone(props) {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      phone = _useState2[0],\n      setPhone = _useState2[1];\n\n  function submitPhone() {\n    var jsonPhone = {\n      phone: phone\n    };\n    var url;\n    if (process.env.NODE_ENV == 'production') url = '';else url = 'http://localhost:3000';\n    axios.post(url + '/sendOTP', jsonPhone, {\n      withCredentials: true\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      var res_data = res.data;\n\n      if (res_data.otp) {\n        props.devhandlePhoneSubmit(res_data.phone, res_data.hash, res_data.otp);\n        console.log(res_data.phone, res_data.hash);\n      }\n    });\n  }\n\n  function handleChange(e) {\n    setPhone(e.target.value);\n  }\n\n  return _jsxs(\"div\", {\n    style: {\n      textAlign: 'center',\n      textSize: '40px'\n    },\n    children: [_jsx(\"h1\", {\n      style: {\n        paddingTop: '30px',\n        fontWeight: 'bold',\n        fontSize: '30px',\n        fontFamily: 'Source Sans Pro',\n        fontFamily: 'S'\n      },\n      children: \"Welcome!\"\n    }), \" \", _jsx(\"br\", {}), _jsxs(\"div\", {\n      style: {\n        paddingTop: '30px',\n        fontWeight: 'bold',\n        fontSize: '30px',\n        fontFamily: 'Source Sans Pro',\n        fontFamily: 'S'\n      },\n      children: [\"To join or sign in enter your phone number below\", _jsx(\"br\", {}), _jsx(\"br\", {}), _jsx(\"br\", {}), _jsx(PhoneInput, {\n        country: 'us',\n        value: phone,\n        onChange: function onChange(e) {\n          return handleChange(e);\n        },\n        style: {\n          margin: '0 auto',\n          width: '300px'\n        }\n      })]\n    }), _jsx(\"br\", {}), _jsx(\"br\", {}), _jsx(\"button\", {\n      onClick: function onClick(e) {\n        return submitPhone();\n      },\n      children: \"Submit\"\n    })]\n  });\n}","map":{"version":3,"sources":["/Users/mikebaker/health_tracker/client/components/SubmitPhone.jsx"],"names":["React","useState","axios","PhoneInput","SubmitPhone","props","phone","setPhone","submitPhone","jsonPhone","url","process","env","NODE_ENV","post","withCredentials","headers","then","res","res_data","data","otp","devhandlePhoneSubmit","hash","console","log","handleChange","e","target","value","textAlign","textSize","paddingTop","fontWeight","fontSize","fontFamily","margin","width"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAO,mCAAP;;;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAEvC,kBAA0BJ,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOK,KAAP;AAAA,MAAcC,QAAd;;AAGF,WAASC,WAAT,GAAsB;AAChB,QAAIC,SAAS,GAAI;AACbH,MAAAA,KAAK,EAACA;AADO,KAAjB;AAGI,QAAII,GAAJ;AACA,QAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAsB,YAAzB,EACIH,GAAG,GAAC,EAAJ,CADJ,KAGIA,GAAG,GAAC,uBAAJ;AAENR,IAAAA,KAAK,CAACY,IAAN,CAAWJ,GAAG,GAAC,UAAf,EAA0BD,SAA1B,EAAoC;AAAEM,MAAAA,eAAe,EAAE;AAAnB,KAApC,EAA+D;AAC7DC,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB;AADoD,KAA/D,EAECC,IAFD,CAEM,UAAAC,GAAG,EAAI;AACX,UAAMC,QAAQ,GAAGD,GAAG,CAACE,IAArB;;AACA,UAAID,QAAQ,CAACE,GAAb,EAAkB;AAKdhB,QAAAA,KAAK,CAACiB,oBAAN,CAA2BH,QAAQ,CAACb,KAApC,EAA0Ca,QAAQ,CAACI,IAAnD,EAAwDJ,QAAQ,CAACE,GAAjE;AACAG,QAAAA,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACb,KAArB,EAA2Ba,QAAQ,CAACI,IAApC;AACH;AAEF,KAbD;AAeH;;AAGN,WAASG,YAAT,CAAsBC,CAAtB,EAAwB;AACrBpB,IAAAA,QAAQ,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AACH;;AAGD,SAAO;AAAK,IAAA,KAAK,EAAE;AAACC,MAAAA,SAAS,EAAC,QAAX;AAAoBC,MAAAA,QAAQ,EAAC;AAA7B,KAAZ;AAAA,eACH;AAAI,MAAA,KAAK,EAAE;AAACC,QAAAA,UAAU,EAAC,MAAZ;AAAmBC,QAAAA,UAAU,EAAC,MAA9B;AAAqCC,QAAAA,QAAQ,EAAC,MAA9C;AAAsDC,QAAAA,UAAU,EAAE,iBAAlE;AAAqFA,QAAAA,UAAU,EAAC;AAAhG,OAAX;AAAA;AAAA,MADG,OAC4H,cAD5H,EAEH;AAAK,MAAA,KAAK,EAAE;AAACH,QAAAA,UAAU,EAAC,MAAZ;AAAmBC,QAAAA,UAAU,EAAC,MAA9B;AAAqCC,QAAAA,QAAQ,EAAC,MAA9C;AAAsDC,QAAAA,UAAU,EAAE,iBAAlE;AAAqFA,QAAAA,UAAU,EAAC;AAAhG,OAAZ;AAAA,qEAAkK,cAAlK,EAAuK,cAAvK,EAA4K,cAA5K,EAEH,KAAC,UAAD;AACC,QAAA,OAAO,EAAE,IADV;AAEC,QAAA,KAAK,EAAE7B,KAFR;AAGC,QAAA,QAAQ,EAAE,kBAAAqB,CAAC;AAAA,iBAAED,YAAY,CAACC,CAAD,CAAd;AAAA,SAHZ;AAIG,QAAA,KAAK,EAAE;AAACS,UAAAA,MAAM,EAAC,QAAR;AACHC,UAAAA,KAAK,EAAC;AADH;AAJV,QAFG;AAAA,MAFG,EAYP,cAZO,EAYF,cAZE,EAaN;AAAQ,MAAA,OAAO,EAAE,iBAAAV,CAAC;AAAA,eAAEnB,WAAW,EAAb;AAAA,OAAlB;AAAA;AAAA,MAbM;AAAA,IAAP;AAgBC","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport PhoneInput from 'react-phone-input-2'\nimport 'react-phone-input-2/lib/style.css'\n\nexport default function SubmitPhone(props) {\n\n    const [phone, setPhone] = useState(\"\");\n\n\n  function submitPhone(){\n        var jsonPhone = ({\n            phone:phone\n            });\n            var url;\n            if(process.env.NODE_ENV=='production')\n                url='';\n            else\n                url='http://localhost:3000'\n                \n          axios.post(url+'/sendOTP',jsonPhone,{ withCredentials: true }, {\n            headers: {'Content-Type': 'application/json'}})\n          .then(res => {\n            const res_data = res.data;\n            if (res_data.otp) {\n                //production method\n               // props.handlePhoneSubmit(res_data.phone,res_data.hash,res_data.otp);\n\n               //dev method\n                props.devhandlePhoneSubmit(res_data.phone,res_data.hash,res_data.otp);\n                console.log(res_data.phone,res_data.hash);\n            }\n                \n          })\n    \n      } \n\n\n function handleChange(e){\n    setPhone(e.target.value)\n}\n\n\nreturn(<div style={{textAlign:'center',textSize:'40px'}}> \n    <h1 style={{paddingTop:'30px',fontWeight:'bold',fontSize:'30px', fontFamily: 'Source Sans Pro', fontFamily:'S'}}>Welcome!</h1> <br/>\n    <div style={{paddingTop:'30px',fontWeight:'bold',fontSize:'30px', fontFamily: 'Source Sans Pro', fontFamily:'S'}}>To join or sign in enter your phone number below<br/><br/><br/>\n\n <PhoneInput\n  country={'us'}\n  value={phone}\n  onChange={e=>handleChange(e)}\n    style={{margin:'0 auto',\n        width:'300px'\n        }}\n/></div>\n<br/><br/>\n <button onClick={e=>submitPhone()}>Submit</button>\n </div>);\n\n}\n"]},"metadata":{},"sourceType":"module"}